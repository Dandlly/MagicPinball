
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/SDK/script/AnyThinkAds/ATInterstitialJSSDK.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bc30ap3dBNIoIY3CJlsLa9a', 'ATInterstitialJSSDK');
// SDK/script/AnyThinkAds/ATInterstitialJSSDK.js

"use strict";

var ATiOSInterstitialJS = require("./iOS/ATiOSInterstitialJS");

var ATAndroidInterstitialJS = require("./Android/ATAndroidInterstitialJS");

var initPlatformBridge = function initPlatformBridge() {
  if (cc.sys.os === cc.sys.OS_IOS) {
    return ATiOSInterstitialJS;
  } else if (cc.sys.os === cc.sys.OS_ANDROID) {
    return ATAndroidInterstitialJS;
  }
};

var platformBridge = initPlatformBridge();
var ATInterstitialSDK = ATInterstitialSDK || {
  ATInterstitialListener: {
    developerCallback: null,
    onInterstitialAdLoaded: function onInterstitialAdLoaded(placementId) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdLoaded != null && undefined != this.developerCallback.onInterstitialAdLoaded) {
        this.developerCallback.onInterstitialAdLoaded(placementId);
      }
    },
    onInterstitialAdLoadFail: function onInterstitialAdLoadFail(placementId, errorInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdLoadFail != null && undefined != this.developerCallback.onInterstitialAdLoadFail) {
        this.developerCallback.onInterstitialAdLoadFail(placementId, errorInfo);
      }
    },
    onInterstitialAdShow: function onInterstitialAdShow(placementId, callbackInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdShow != null && undefined != this.developerCallback.onInterstitialAdShow) {
        this.developerCallback.onInterstitialAdShow(placementId, callbackInfo);
      }
    },
    onInterstitialAdStartPlayingVideo: function onInterstitialAdStartPlayingVideo(placementId, callbackInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdStartPlayingVideo != null && undefined != this.developerCallback.onInterstitialAdStartPlayingVideo) {
        this.developerCallback.onInterstitialAdStartPlayingVideo(placementId, callbackInfo);
      }
    },
    onInterstitialAdEndPlayingVideo: function onInterstitialAdEndPlayingVideo(placementId, callbackInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdEndPlayingVideo != null && undefined != this.developerCallback.onInterstitialAdEndPlayingVideo) {
        this.developerCallback.onInterstitialAdEndPlayingVideo(placementId, callbackInfo);
      }
    },
    onInterstitialAdFailedToPlayVideo: function onInterstitialAdFailedToPlayVideo(placementId, errorInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdFailedToPlayVideo != null && undefined != this.developerCallback.onInterstitialAdFailedToPlayVideo) {
        this.developerCallback.onInterstitialAdFailedToPlayVideo(placementId, errorInfo);
      }
    },
    onInterstitialAdFailedToShow: function onInterstitialAdFailedToShow(placementId) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdFailedToShow != null && undefined != this.developerCallback.onInterstitialAdFailedToShow) {
        this.developerCallback.onInterstitialAdFailedToShow(placementId);
      }
    },
    onInterstitialAdClose: function onInterstitialAdClose(placementId, callbackInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdClose != null && undefined != this.developerCallback.onInterstitialAdClose) {
        this.developerCallback.onInterstitialAdClose(placementId, callbackInfo);
      }
    },
    onInterstitialAdClick: function onInterstitialAdClick(placementId, callbackInfo) {
      if (this.developerCallback != null && this.developerCallback.onInterstitialAdClick != null && undefined != this.developerCallback.onInterstitialAdClick) {
        this.developerCallback.onInterstitialAdClick(placementId, callbackInfo);
      }
    }
  },
  loadInterstitial: function loadInterstitial(placementId) {
    if (undefined != platformBridge && platformBridge != null) {
      platformBridge.loadInterstitial(placementId);
    } else {
      cc.log("You must run on Android or iOS.");
    }
  },
  setAdListener: function setAdListener(listener) {
    var eventJSON = {};
    eventJSON[LoadedCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoaded", eventJSON[LoadFailCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoadFail", eventJSON[PlayStartCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo", eventJSON[PlayEndCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo", eventJSON[PlayFailCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo", eventJSON[CloseCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClose", eventJSON[ClickCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClick", eventJSON[ShowCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdShow", eventJSON[ShowFailCallbackKey] = "ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToShow";

    if (undefined != platformBridge && platformBridge != null) {
      platformBridge.setAdListener(JSON.stringify(eventJSON));
    } else {
      cc.log("You must run on Android or iOS.");
    }

    this.ATInterstitialListener.developerCallback = listener;
  },
  hasAdReady: function hasAdReady(placementId) {
    if (undefined != platformBridge && platformBridge != null) {
      return platformBridge.hasAdReady(placementId);
    } else {
      cc.log("You must run on Android or iOS.");
    }

    return false;
  },
  showAd: function showAd(placementId) {
    if (undefined != platformBridge && platformBridge != null) {
      platformBridge.showAd(placementId);
    } else {
      cc.log("You must run on Android or iOS.");
    }
  },
  showAdInScenario: function showAdInScenario(placementId) {
    var scenario = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";

    if (undefined != platformBridge && platformBridge != null) {
      platformBridge.showAdInScenario(placementId, scenario);
    } else {
      cc.log("You must run on Android or iOS.");
    }
  }
};
var LoadedCallbackKey = "InterstitialLoaded";
var LoadFailCallbackKey = "InterstitialLoadFail";
var PlayStartCallbackKey = "InterstitialPlayStart";
var PlayEndCallbackKey = "InterstitialPlayEnd";
var PlayFailCallbackKey = "InterstitialPlayFail";
var CloseCallbackKey = "InterstitialClose";
var ClickCallbackKey = "InterstitialClick";
var ShowCallbackKey = "InterstitialAdShow";
var ShowFailCallbackKey = "InterstitialAdShowFail";
window.ATInterstitialJSSDK = ATInterstitialSDK;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU0RLXFxzY3JpcHRcXEFueVRoaW5rQWRzXFxBVEludGVyc3RpdGlhbEpTU0RLLmpzIl0sIm5hbWVzIjpbIkFUaU9TSW50ZXJzdGl0aWFsSlMiLCJyZXF1aXJlIiwiQVRBbmRyb2lkSW50ZXJzdGl0aWFsSlMiLCJpbml0UGxhdGZvcm1CcmlkZ2UiLCJjYyIsInN5cyIsIm9zIiwiT1NfSU9TIiwiT1NfQU5EUk9JRCIsInBsYXRmb3JtQnJpZGdlIiwiQVRJbnRlcnN0aXRpYWxTREsiLCJBVEludGVyc3RpdGlhbExpc3RlbmVyIiwiZGV2ZWxvcGVyQ2FsbGJhY2siLCJvbkludGVyc3RpdGlhbEFkTG9hZGVkIiwicGxhY2VtZW50SWQiLCJ1bmRlZmluZWQiLCJvbkludGVyc3RpdGlhbEFkTG9hZEZhaWwiLCJlcnJvckluZm8iLCJvbkludGVyc3RpdGlhbEFkU2hvdyIsImNhbGxiYWNrSW5mbyIsIm9uSW50ZXJzdGl0aWFsQWRTdGFydFBsYXlpbmdWaWRlbyIsIm9uSW50ZXJzdGl0aWFsQWRFbmRQbGF5aW5nVmlkZW8iLCJvbkludGVyc3RpdGlhbEFkRmFpbGVkVG9QbGF5VmlkZW8iLCJvbkludGVyc3RpdGlhbEFkRmFpbGVkVG9TaG93Iiwib25JbnRlcnN0aXRpYWxBZENsb3NlIiwib25JbnRlcnN0aXRpYWxBZENsaWNrIiwibG9hZEludGVyc3RpdGlhbCIsImxvZyIsInNldEFkTGlzdGVuZXIiLCJsaXN0ZW5lciIsImV2ZW50SlNPTiIsIkxvYWRlZENhbGxiYWNrS2V5IiwiTG9hZEZhaWxDYWxsYmFja0tleSIsIlBsYXlTdGFydENhbGxiYWNrS2V5IiwiUGxheUVuZENhbGxiYWNrS2V5IiwiUGxheUZhaWxDYWxsYmFja0tleSIsIkNsb3NlQ2FsbGJhY2tLZXkiLCJDbGlja0NhbGxiYWNrS2V5IiwiU2hvd0NhbGxiYWNrS2V5IiwiU2hvd0ZhaWxDYWxsYmFja0tleSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoYXNBZFJlYWR5Iiwic2hvd0FkIiwic2hv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SSxpQkFBaUIsR0FBRyxvQkFBMUI7QUFDQSxJQUFNQyxtQkFBbUIsR0FBRyxzQkFBNUI7QUFDQSxJQUFNQyxvQkFBb0IsR0FBRyx1QkFBN0I7QUFDQSxJQUFNQyxrQkFBa0IsR0FBRyxxQkFBM0I7QUFDQSxJQUFNQyxtQkFBbUIsR0FBRyxzQkFBNUI7QUFDQSxJQUFNQyxnQkFBZ0IsR0FBRyxtQkFBekI7QUFDQSxJQUFNQyxnQkFBZ0IsR0FBRyxtQkFBekI7QUFDQSxJQUFNQyxlQUFlLEdBQUcsb0JBQXhCO0FBQ0EsSUFBTUMsbUJBQW1CLEdBQUcsd0JBQTVCO0FBRUFPLE1BQU0sQ0FBQ0MsbUJBQVAsR0FBNkJyQyxpQkFBN0IiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBVGlPU0ludGVyc3RpdGlhbEpTID0gcmVxdWlyZShcIi4vaU9TL0FUaU9TSW50ZXJzdGl0aWFsSlNcIik7XHJcbnZhciBBVEFuZHJvaWRJbnRlcnN0aXRpYWxKUyA9IHJlcXVpcmUoXCIuL0FuZHJvaWQvQVRBbmRyb2lkSW50ZXJzdGl0aWFsSlNcIik7XHJcblxyXG52YXIgaW5pdFBsYXRmb3JtQnJpZGdlID0gZnVuY3Rpb24oKSB7ICBcclxuICAgIGlmIChjYy5zeXMub3MgPT09IGNjLnN5cy5PU19JT1MpIHsgICAgICAgICAgIFxyXG4gICAgICAgIHJldHVybiBBVGlPU0ludGVyc3RpdGlhbEpTO1xyXG4gICAgfSBlbHNlIGlmIChjYy5zeXMub3MgPT09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgcmV0dXJuIEFUQW5kcm9pZEludGVyc3RpdGlhbEpTO1xyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIHBsYXRmb3JtQnJpZGdlID0gaW5pdFBsYXRmb3JtQnJpZGdlKCk7XHJcblxyXG5cclxudmFyIEFUSW50ZXJzdGl0aWFsU0RLID0gQVRJbnRlcnN0aXRpYWxTREsgfHwge1xyXG5cclxuXHJcbiAgICBBVEludGVyc3RpdGlhbExpc3RlbmVyIDoge1xyXG4gICAgICAgIGRldmVsb3BlckNhbGxiYWNrIDogbnVsbCxcclxuXHJcbiAgICAgICAgb25JbnRlcnN0aXRpYWxBZExvYWRlZCA6IGZ1bmN0aW9uIChwbGFjZW1lbnRJZCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLmRldmVsb3BlckNhbGxiYWNrICE9IG51bGwgJiYgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkTG9hZGVkICE9IG51bGwgJiYgdW5kZWZpbmVkICE9IHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZExvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkTG9hZGVkKHBsYWNlbWVudElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uSW50ZXJzdGl0aWFsQWRMb2FkRmFpbCA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBlcnJvckluZm8pIHtcclxuICAgICAgICAgIGlmKHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sgIT0gbnVsbCAmJiB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRMb2FkRmFpbCAhPSBudWxsICYmIHVuZGVmaW5lZCAhPSB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRMb2FkRmFpbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkTG9hZEZhaWwocGxhY2VtZW50SWQsIGVycm9ySW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkludGVyc3RpdGlhbEFkU2hvdyA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pIHtcclxuICAgICAgICAgICBpZih0aGlzLmRldmVsb3BlckNhbGxiYWNrICE9IG51bGwgJiYgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkU2hvdyAhPSBudWxsICYmIHVuZGVmaW5lZCAhPSB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRTaG93KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRTaG93KHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25JbnRlcnN0aXRpYWxBZFN0YXJ0UGxheWluZ1ZpZGVvIDogZnVuY3Rpb24ocGxhY2VtZW50SWQsIGNhbGxiYWNrSW5mbykge1xyXG4gICAgICAgICAgICBpZih0aGlzLmRldmVsb3BlckNhbGxiYWNrICE9IG51bGwgJiYgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkU3RhcnRQbGF5aW5nVmlkZW8gIT0gbnVsbCAmJiB1bmRlZmluZWQgIT0gdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkU3RhcnRQbGF5aW5nVmlkZW8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZFN0YXJ0UGxheWluZ1ZpZGVvKHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25JbnRlcnN0aXRpYWxBZEVuZFBsYXlpbmdWaWRlbyA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5kZXZlbG9wZXJDYWxsYmFjayAhPSBudWxsICYmIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZEVuZFBsYXlpbmdWaWRlbyAhPSBudWxsICYmIHVuZGVmaW5lZCAhPSB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRFbmRQbGF5aW5nVmlkZW8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZEVuZFBsYXlpbmdWaWRlbyhwbGFjZW1lbnRJZCwgY2FsbGJhY2tJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uSW50ZXJzdGl0aWFsQWRGYWlsZWRUb1BsYXlWaWRlbyA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBlcnJvckluZm8pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5kZXZlbG9wZXJDYWxsYmFjayAhPSBudWxsICYmIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZEZhaWxlZFRvUGxheVZpZGVvICE9IG51bGwgJiYgdW5kZWZpbmVkICE9IHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZEZhaWxlZFRvUGxheVZpZGVvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRGYWlsZWRUb1BsYXlWaWRlbyhwbGFjZW1lbnRJZCwgZXJyb3JJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uSW50ZXJzdGl0aWFsQWRGYWlsZWRUb1Nob3cgOiBmdW5jdGlvbihwbGFjZW1lbnRJZCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLmRldmVsb3BlckNhbGxiYWNrICE9IG51bGwgJiYgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkRmFpbGVkVG9TaG93ICE9IG51bGwgJiYgdW5kZWZpbmVkICE9IHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZEZhaWxlZFRvU2hvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZlbG9wZXJDYWxsYmFjay5vbkludGVyc3RpdGlhbEFkRmFpbGVkVG9TaG93KHBsYWNlbWVudElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uSW50ZXJzdGl0aWFsQWRDbG9zZSA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5kZXZlbG9wZXJDYWxsYmFjayAhPSBudWxsICYmIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZENsb3NlICE9IG51bGwgJiYgdW5kZWZpbmVkICE9IHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZENsb3NlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRDbG9zZShwbGFjZW1lbnRJZCwgY2FsbGJhY2tJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uSW50ZXJzdGl0aWFsQWRDbGljayA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBjYWxsYmFja0luZm8pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5kZXZlbG9wZXJDYWxsYmFjayAhPSBudWxsICYmIHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZENsaWNrICE9IG51bGwgJiYgdW5kZWZpbmVkICE9IHRoaXMuZGV2ZWxvcGVyQ2FsbGJhY2sub25JbnRlcnN0aXRpYWxBZENsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmVsb3BlckNhbGxiYWNrLm9uSW50ZXJzdGl0aWFsQWRDbGljayhwbGFjZW1lbnRJZCwgY2FsbGJhY2tJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBcclxuICAgIGxvYWRJbnRlcnN0aXRpYWwgOiBmdW5jdGlvbihwbGFjZW1lbnRJZCkge1xyXG5cclxuICAgICAgICBpZiAodW5kZWZpbmVkICE9IHBsYXRmb3JtQnJpZGdlICYmIHBsYXRmb3JtQnJpZGdlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcGxhdGZvcm1CcmlkZ2UubG9hZEludGVyc3RpdGlhbChwbGFjZW1lbnRJZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2MubG9nKFwiWW91IG11c3QgcnVuIG9uIEFuZHJvaWQgb3IgaU9TLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNldEFkTGlzdGVuZXIgOiBmdW5jdGlvbihsaXN0ZW5lcikge1xyXG4gICAgICAgIHZhciBldmVudEpTT04gPSB7fTtcclxuICAgICAgICBldmVudEpTT05bTG9hZGVkQ2FsbGJhY2tLZXldPVwiQVRJbnRlcnN0aXRpYWxKU1NESy5BVEludGVyc3RpdGlhbExpc3RlbmVyLm9uSW50ZXJzdGl0aWFsQWRMb2FkZWRcIixcclxuICAgICAgICBldmVudEpTT05bTG9hZEZhaWxDYWxsYmFja0tleV09IFwiQVRJbnRlcnN0aXRpYWxKU1NESy5BVEludGVyc3RpdGlhbExpc3RlbmVyLm9uSW50ZXJzdGl0aWFsQWRMb2FkRmFpbFwiLFxyXG4gICAgICAgIGV2ZW50SlNPTltQbGF5U3RhcnRDYWxsYmFja0tleV09IFwiQVRJbnRlcnN0aXRpYWxKU1NESy5BVEludGVyc3RpdGlhbExpc3RlbmVyLm9uSW50ZXJzdGl0aWFsQWRTdGFydFBsYXlpbmdWaWRlb1wiLFxyXG4gICAgICAgIGV2ZW50SlNPTltQbGF5RW5kQ2FsbGJhY2tLZXldPSBcIkFUSW50ZXJzdGl0aWFsSlNTREsuQVRJbnRlcnN0aXRpYWxMaXN0ZW5lci5vbkludGVyc3RpdGlhbEFkRW5kUGxheWluZ1ZpZGVvXCIsXHJcbiAgICAgICAgZXZlbnRKU09OW1BsYXlGYWlsQ2FsbGJhY2tLZXldPSBcIkFUSW50ZXJzdGl0aWFsSlNTREsuQVRJbnRlcnN0aXRpYWxMaXN0ZW5lci5vbkludGVyc3RpdGlhbEFkRmFpbGVkVG9QbGF5VmlkZW9cIixcclxuICAgICAgICBldmVudEpTT05bQ2xvc2VDYWxsYmFja0tleV09IFwiQVRJbnRlcnN0aXRpYWxKU1NESy5BVEludGVyc3RpdGlhbExpc3RlbmVyLm9uSW50ZXJzdGl0aWFsQWRDbG9zZVwiLFxyXG4gICAgICAgIGV2ZW50SlNPTltDbGlja0NhbGxiYWNrS2V5XT0gXCJBVEludGVyc3RpdGlhbEpTU0RLLkFUSW50ZXJzdGl0aWFsTGlzdGVuZXIub25JbnRlcnN0aXRpYWxBZENsaWNrXCIsXHJcbiAgICAgICAgZXZlbnRKU09OW1Nob3dDYWxsYmFja0tleV09IFwiQVRJbnRlcnN0aXRpYWxKU1NESy5BVEludGVyc3RpdGlhbExpc3RlbmVyLm9uSW50ZXJzdGl0aWFsQWRTaG93XCIsXHJcbiAgICAgICAgZXZlbnRKU09OW1Nob3dGYWlsQ2FsbGJhY2tLZXldPSBcIkFUSW50ZXJzdGl0aWFsSlNTREsuQVRJbnRlcnN0aXRpYWxMaXN0ZW5lci5vbkludGVyc3RpdGlhbEFkRmFpbGVkVG9TaG93XCJcclxuXHJcbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPSBwbGF0Zm9ybUJyaWRnZSAmJiBwbGF0Zm9ybUJyaWRnZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICBwbGF0Zm9ybUJyaWRnZS5zZXRBZExpc3RlbmVyKEpTT04uc3RyaW5naWZ5KGV2ZW50SlNPTikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIllvdSBtdXN0IHJ1biBvbiBBbmRyb2lkIG9yIGlPUy5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLkFUSW50ZXJzdGl0aWFsTGlzdGVuZXIuZGV2ZWxvcGVyQ2FsbGJhY2sgPSBsaXN0ZW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgaGFzQWRSZWFkeSA6IGZ1bmN0aW9uKHBsYWNlbWVudElkKSB7XHJcbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPSBwbGF0Zm9ybUJyaWRnZSAmJiBwbGF0Zm9ybUJyaWRnZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF0Zm9ybUJyaWRnZS5oYXNBZFJlYWR5KHBsYWNlbWVudElkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2coXCJZb3UgbXVzdCBydW4gb24gQW5kcm9pZCBvciBpT1MuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dBZCA6IGZ1bmN0aW9uKHBsYWNlbWVudElkKSB7XHJcbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPSBwbGF0Zm9ybUJyaWRnZSAmJiBwbGF0Zm9ybUJyaWRnZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgcGxhdGZvcm1CcmlkZ2Uuc2hvd0FkKHBsYWNlbWVudElkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2coXCJZb3UgbXVzdCBydW4gb24gQW5kcm9pZCBvciBpT1MuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2hvd0FkSW5TY2VuYXJpbyA6IGZ1bmN0aW9uKHBsYWNlbWVudElkLCBzY2VuYXJpbz1cIlwiKSB7XHJcbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPSBwbGF0Zm9ybUJyaWRnZSAmJiBwbGF0Zm9ybUJyaWRnZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgcGxhdGZvcm1CcmlkZ2Uuc2hvd0FkSW5TY2VuYXJpbyhwbGFjZW1lbnRJZCwgc2NlbmFyaW8pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIllvdSBtdXN0IHJ1biBvbiBBbmRyb2lkIG9yIGlPUy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBcclxuICBcclxuICBcclxufTtcclxuXHJcbmNvbnN0IExvYWRlZENhbGxiYWNrS2V5ID0gXCJJbnRlcnN0aXRpYWxMb2FkZWRcIjtcclxuY29uc3QgTG9hZEZhaWxDYWxsYmFja0tleSA9IFwiSW50ZXJzdGl0aWFsTG9hZEZhaWxcIjtcclxuY29uc3QgUGxheVN0YXJ0Q2FsbGJhY2tLZXkgPSBcIkludGVyc3RpdGlhbFBsYXlTdGFydFwiO1xyXG5jb25zdCBQbGF5RW5kQ2FsbGJhY2tLZXkgPSBcIkludGVyc3RpdGlhbFBsYXlFbmRcIjtcclxuY29uc3QgUGxheUZhaWxDYWxsYmFja0tleSA9IFwiSW50ZXJzdGl0aWFsUGxheUZhaWxcIjtcclxuY29uc3QgQ2xvc2VDYWxsYmFja0tleSA9IFwiSW50ZXJzdGl0aWFsQ2xvc2VcIjtcclxuY29uc3QgQ2xpY2tDYWxsYmFja0tleSA9IFwiSW50ZXJzdGl0aWFsQ2xpY2tcIjtcclxuY29uc3QgU2hvd0NhbGxiYWNrS2V5ID0gXCJJbnRlcnN0aXRpYWxBZFNob3dcIjtcclxuY29uc3QgU2hvd0ZhaWxDYWxsYmFja0tleSA9IFwiSW50ZXJzdGl0aWFsQWRTaG93RmFpbFwiO1xyXG5cclxud2luZG93LkFUSW50ZXJzdGl0aWFsSlNTREsgPSBBVEludGVyc3RpdGlhbFNESzsiXX0=