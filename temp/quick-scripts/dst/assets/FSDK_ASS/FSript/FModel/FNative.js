
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/FSDK_ASS/FSript/FModel/FNative.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd1d68i4zBpEBIe5olI11joa', 'FNative');
// FSDK_ASS/FSript/FModel/FNative.ts

var FNative = /** @class */ (function () {
    function FNative() {
    }
    //获取原生端对应类
    FNative.getNativeClass = function () {
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            return 'org.cocos2dx.javascript/Cocos';
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            return 'CocosMap';
        }
    };
    //获取系统信息
    FNative.getSystemInfo = function () {
        if (!cc.sys.isNative)
            return null;
        var data;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            data = jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'getSystemInfo', '()Ljava/lang/String;');
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            data = jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'getSystemInfo');
        }
        FLog.normal("看看系统信息：" + data);
        return JSON.parse(data);
    };
    ;
    //获取系统信息
    FNative.getVerInfo = function () {
        if (!cc.sys.isNative)
            return null;
        var data;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            data = jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'getVerInfo', '()Ljava/lang/String;');
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            data = jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'getVerInfo');
        }
        data = JSON.parse(data);
        FConfig.VERSION = data.ver;
        FConfig.VERSION_CODE = data.ver_code;
        FLog.normal("看看版本号信息" + data);
        return data;
    };
    ;
    //震动
    FNative.shake = function (time) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'shake', '(I)V', time);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'shake:', time);
        }
    };
    ;
    //复制
    FNative.copy = function (str) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'copy', '(Ljava/lang/String;)V', str);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'copy:', str);
        }
        FSDK.showToast("Copy success");
    };
    ;
    //友盟埋点
    FNative.UmengOnEvemt = function (eventName, value) {
        if (value === void 0) { value = "0"; }
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'UmengOnEvent', '(Ljava/lang/String;Ljava/lang/String;)V', eventName, value);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'UmengOnEvent:addContent:', eventName, value);
        }
    };
    ;
    //跳转App
    FNative.openApp = function (apk) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openApp', '(Ljava/lang/String;)V', apk);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openApp:', apk);
        }
    };
    ;
    //跳转商店
    FNative.jumpShop = function (pg) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'jumpShop', '(Ljava/lang/String;)V', pg);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'jumpShop:', pg);
        }
    };
    //弹出提示
    FNative.showToast = function (str) {
        FSDK.showToast(str);
    };
    //打开分享
    FNative.share = function (shareInfo) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openShare', '(Ljava/lang/String;)V', shareInfo);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openShare:', shareInfo);
        }
    };
    //预加载视频
    FNative.preloadVideo = function (id) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'preloadVideo', '(Ljava/lang/String;)V', id);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'preloadVideo:', id);
        }
    };
    //预加载插屏
    FNative.preloadInters = function (id) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'preloadInters', '(Ljava/lang/String;)V', id);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'preloadInters:', id);
        }
    };
    //打开视频
    FNative.openVideo = function () {
        if (!cc.sys.isNative)
            return;
        // if (cc.sys.os == cc.sys.OS_ANDROID) {
        //     jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openVideo', '()V');
        // }
        // else if (cc.sys.os == cc.sys.OS_IOS) {
        //     jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openVideo:', "11");
        // }
        if (get_simple_ad().hasReward()) {
            FSDK.showToLoad("AD Loading...");
            get_simple_ad().showReward("所有场景");
        }
        else {
            FNative.videoFail();
        }
    };
    //打开Banner
    FNative.openBanner = function (id) {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openBanner', '(Ljava/lang/String;)V', id);
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openBanner:', id);
        }
    };
    //隐藏banner
    FNative.closeBanner = function () {
        if (!cc.sys.isNative)
            return;
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'closeBanner', '()V');
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'closeBanner', '()V');
        }
    };
    //打开插屏
    FNative.openInters = function () {
        if (!cc.sys.isNative)
            return;
        // if (cc.sys.os == cc.sys.OS_ANDROID) {
        //     jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openInters', '()V');
        // }
        // else if (cc.sys.os == cc.sys.OS_IOS) {
        //     jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'openInters:', "11");
        // }
        if (get_simple_ad().hasInter()) {
            FSDK.showToLoad("AD Loading...");
            get_simple_ad().showInter("所有场景");
        }
        else {
            FNative.intersFail();
        }
    };
    //wx登录
    FNative.wxLogin = function () {
        FSDK.showToLoad("正在授权中...");
        if (cc.sys.os == cc.sys.OS_ANDROID) {
            jsb.reflection.callStaticMethod(FNative.getNativeClass(), 'wxLogin', '()V');
        }
        else if (cc.sys.os == cc.sys.OS_IOS) {
        }
    };
    //视频观看
    FNative.videoShow = function () {
        cc.audioEngine.setMusicVolume(0);
        cc.audioEngine.setEffectsVolume(0);
        FSDK.umengEvent(FConfig.UMENG_CONFIG.video_show, "0");
        FSDK.hideToLoad();
        FSDK.adEvent('topon', 'video');
        FNative.AD_COUNT.video++;
        FSDK.saveData("AD_COUNT", FNative.AD_COUNT);
        FSDK.umengEvent("video_show_scene", FNative.videoCb.from);
        FLog.normal("视频展示");
    };
    //视频完整观看
    FNative.videoSuc = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.video_suc, "0");
        if (FNative.videoCb.cb && FNative.videoCb.target) {
            FNative.videoCb.cb.call(FNative.videoCb.target);
        }
        FNative.AD_SHOW_CNT.AD_SUC++;
        if (FNative.AD_SHOW_CNT.AD_SUC >= FConfig.FSDK_CONF.REAL_USER.ad_num) {
            FSDK.setActiveUser();
        }
        FSDK.saveData("AD_SHOW_CNT", FNative.AD_SHOW_CNT);
        FLog.normal("视频看完  ", FNative.AD_SHOW_CNT.AD_SUC);
        FNative.videoClose();
    };
    //视频关闭
    FNative.videoClose = function () {
        cc.audioEngine.setMusicVolume(1);
        cc.audioEngine.setEffectsVolume(1);
        if (!FNative.VIDEO_FRESH_TIME && FConfig.FSDK_CONF.AD_CONF.video_fresh_time) {
            FNative.video_fresh_time = FConfig.FSDK_CONF.AD_CONF.video_fresh_time;
            FNative.VIDEO_FRESH_TIME = setInterval(function () {
                if (FNative.video_fresh_time) {
                    FNative.video_fresh_time--;
                }
                else {
                    clearTimeout(FNative.VIDEO_FRESH_TIME);
                    FNative.VIDEO_FRESH_TIME = null;
                }
            }, 1000);
        }
        FLog.normal("视频关闭");
    };
    //视频失败
    FNative.videoFail = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.video_fail, "0");
        if (FNative.isLoad) {
            FSDK.hideToLoad();
            FSDK.showToast("Video is loading");
            return;
        }
        FNative.isLoad = true;
        FSDK.showToLoad('AD Loading...');
        setTimeout(function () {
            FNative.openVideo();
        }, 2000);
        FLog.normal("视频失败");
    };
    //视频点击
    FNative.videoClick = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.video_click, "0");
        FLog.normal("视频点击");
    };
    //插屏展示
    FNative.intersShow = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.inter_show, "0");
        FSDK.adEvent('topon', 'interstitial');
        FNative.AD_COUNT.inters++;
        FNative.AD_SHOW_CNT.AD_SHOW++;
        FSDK.saveData("AD_SHOW_CNT", FNative.AD_SHOW_CNT);
        FSDK.saveData("AD_COUNT", FNative.AD_COUNT);
        FLog.normal("插屏展示");
    };
    //刷新插屏时间
    FNative.freshInters = function () {
        if (!FNative.INTERS_FRESH_TIME) {
            FNative.INTERS_FRESH_TIME = setInterval(function () {
                if (FNative.inters_fresh_time) {
                    FNative.inters_fresh_time--;
                }
                else {
                    clearTimeout(FNative.INTERS_FRESH_TIME);
                    FNative.INTERS_FRESH_TIME = null;
                }
            }, 1000);
        }
    };
    //插屏关闭
    FNative.intersClose = function () {
        FSDK.hideToLoad();
        if (FNative.intersCb.cb && FNative.intersCb.target) {
            FNative.intersCb.cb.call(FNative.intersCb.target);
        }
        FNative.inters_fresh_time = FConfig.FSDK_CONF.AD_CONF.inters_fresh_time[FSDK.getUserType()];
        FNative.freshInters();
        FLog.normal("插屏关闭");
    };
    //插屏失败
    FNative.intersFail = function () {
        if (FNative.intersCb.cb && FNative.intersCb.target) {
            FNative.intersCb.cb.call(FNative.intersCb.target);
        }
        FSDK.umengEvent(FConfig.UMENG_CONFIG.inter_fail, "0");
        FSDK.hideToLoad();
        FLog.normal("插屏失败");
    };
    //插屏点击
    FNative.intersClick = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.inter_click, "0");
        FLog.normal("插屏点击");
    };
    //Banner展示
    FNative.bannerShow = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.banner_show, "0");
        FLog.normal("banner展示");
    };
    //Banner点击
    FNative.bannerClick = function () {
        FSDK.umengEvent(FConfig.UMENG_CONFIG.banner_click, "0");
        FLog.normal("banner点击");
    };
    //微信授权失败
    FNative.wxLoginFail = function () {
        FSDK.hideToLoad();
    };
    //微信授权成功
    FNative.wxLoginSuc = function (user_info) {
        FSDK.hideToLoad();
        if (user_info.openid) {
            FSDK.saveData('WX_INFO', user_info);
            FSDK.reWxInfo(user_info);
        }
        else {
            FNative.wxLoginFail();
        }
    };
    /**********************************************  原生端返回  **************************************************/
    //视频回调
    FNative.videoCb = {
        cb: null,
        target: null,
        from: ""
    };
    //插屏回调
    FNative.intersCb = {
        cb: null,
        target: null
    };
    //视频观看
    FNative.AD_SHOW_CNT = {
        AD_SHOW: 0,
        AD_SUC: 0 //总观看完次数
    };
    //等待2秒再拉起
    FNative.isLoad = false;
    //次数
    FNative.AD_COUNT = {
        "video": 0,
        "inters": 0
    };
    //视频间隔时间
    FNative.VIDEO_FRESH_TIME = null;
    FNative.video_fresh_time = 30;
    //插屏间隔时间
    FNative.INTERS_FRESH_TIME = null;
    FNative.inters_fresh_time = 30;
    return FNative;
}());
window['FNative'] = FNative;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcRlNES19BU1NcXEZTcmlwdFxcRk1vZGVsXFxGTmF0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2WEEsQ0FBQztJQTVYRyxVQUFVO0lBQ0gsc0JBQWMsR0FBckI7UUFDSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFO1lBQ2hDLE9BQU8sK0JBQStCLENBQUM7U0FDMUM7YUFDSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFO1lBQ2pDLE9BQU8sVUFBVSxDQUFDO1NBQ3JCO0lBQ0wsQ0FBQztJQUVELFFBQVE7SUFDRCxxQkFBYSxHQUFwQjtRQUNJLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVE7WUFBRSxPQUFPLElBQUksQ0FBQztRQUNsQyxJQUFJLElBQUksQ0FBQztRQUNULElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUU7WUFDaEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFFLGVBQWUsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1NBQzdHO2FBQ0ksSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRTtZQUNqQyxJQUFJLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUM7U0FDckY7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUM5QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxD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O1FBQ1IsTUFBTSxFQUFFLElBQUk7UUFDWixJQUFJLEVBQUUsRUFBRTtLQUNYLENBQUM7SUFDRixNQUFNO0lBQ0MsZ0JBQVEsR0FBRztRQUNkLEVBQUUsRUFBRSxJQUFJO1FBQ1IsTUFBTSxFQUFFLElBQUk7S0FDZixDQUFBO0lBQ0QsTUFBTTtJQUNDLG1CQUFXLEdBQUc7UUFDakIsT0FBTyxFQUFFLENBQUM7UUFDVixNQUFNLEVBQUUsQ0FBQyxDQUFBLFFBQVE7S0FDcEIsQ0FBQTtJQUNELFNBQVM7SUFDRixjQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLElBQUk7SUFDRyxnQkFBUSxHQUFHO1FBQ2QsT0FBTyxFQUFFLENBQUM7UUFDVixRQUFRLEVBQUUsQ0FBQztLQUNkLENBQUE7SUFDRCxRQUFRO0lBQ0Qsd0JBQWdCLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLHdCQUFnQixHQUFHLEVBQUUsQ0FBQztJQUM3QixRQUFRO0lBQ0QseUJBQWlCLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLHlCQUFpQixHQUFHLEVBQUUsQ0FBQztJQTZJbEMsY0FBQztDQTdYRCxBQTZYQyxJQUFBO0FBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZOYXRpdmUge1xyXG4gICAgLy/ojrflj5bljp/nlJ/nq6/lr7nlupTnsbtcclxuICAgIHN0YXRpYyBnZXROYXRpdmVDbGFzcygpIHtcclxuICAgICAgICBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnb3JnLmNvY29zMmR4LmphdmFzY3JpcHQvQ29jb3MnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ0NvY29zTWFwJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflj5bns7vnu5/kv6Hmga9cclxuICAgIHN0YXRpYyBnZXRTeXN0ZW1JbmZvKCkge1xyXG4gICAgICAgIGlmICghY2Muc3lzLmlzTmF0aXZlKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgZGF0YTtcclxuICAgICAgICBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ2dldFN5c3RlbUluZm8nLCAnKClMamF2YS9sYW5nL1N0cmluZzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19JT1MpIHtcclxuICAgICAgICAgICAgZGF0YSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnZ2V0U3lzdGVtSW5mbycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGTG9nLm5vcm1hbChcIueci+eci+ezu+e7n+S/oeaBr++8mlwiICsgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8v6I635Y+W57O757uf5L+h5oGvXHJcbiAgICBzdGF0aWMgZ2V0VmVySW5mbygpIHtcclxuICAgICAgICBpZiAoIWNjLnN5cy5pc05hdGl2ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IGRhdGE7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCkge1xyXG4gICAgICAgICAgICBkYXRhID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdnZXRWZXJJbmZvJywgJygpTGphdmEvbGFuZy9TdHJpbmc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ2dldFZlckluZm8nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgRkNvbmZpZy5WRVJTSU9OID0gZGF0YS52ZXI7XHJcbiAgICAgICAgRkNvbmZpZy5WRVJTSU9OX0NPREUgPSBkYXRhLnZlcl9jb2RlO1xyXG4gICAgICAgIEZMb2cubm9ybWFsKFwi55yL55yL54mI5pys5Y+35L+h5oGvXCIgKyBkYXRhKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgLy/pnIfliqhcclxuICAgIHN0YXRpYyBzaGFrZSh0aW1lOiBOdW1iZXIpIHtcclxuICAgICAgICBpZiAoIWNjLnN5cy5pc05hdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdzaGFrZScsICcoSSlWJywgdGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnc2hha2U6JywgdGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvL+WkjeWItlxyXG4gICAgc3RhdGljIGNvcHkoc3RyOiBTdHJpbmcpIHtcclxuICAgICAgICBpZiAoIWNjLnN5cy5pc05hdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdjb3B5JywgJyhMamF2YS9sYW5nL1N0cmluZzspVicsIHN0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnY29weTonLCBzdHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGU0RLLnNob3dUb2FzdChcIkNvcHkgc3VjY2Vzc1wiKTtcclxuICAgIH07XHJcblxyXG4gICAgLy/lj4vnm5/ln4vngrlcclxuICAgIHN0YXRpYyBVbWVuZ09uRXZlbXQoZXZlbnROYW1lLCB2YWx1ZSA9IFwiMFwiKSB7XHJcbiAgICAgICAgaWYgKCFjYy5zeXMuaXNOYXRpdmUpIHJldHVybjtcclxuICAgICAgICBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnVW1lbmdPbkV2ZW50JywgJyhMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVicsIGV2ZW50TmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ1VtZW5nT25FdmVudDphZGRDb250ZW50OicsIGV2ZW50TmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8v6Lez6L2sQXBwXHJcbiAgICBzdGF0aWMgb3BlbkFwcChhcGspIHtcclxuICAgICAgICBpZiAoIWNjLnN5cy5pc05hdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdvcGVuQXBwJywgJyhMamF2YS9sYW5nL1N0cmluZzspVicsIGFwayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnb3BlbkFwcDonLCBhcGspO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8v6Lez6L2s5ZWG5bqXXHJcbiAgICBzdGF0aWMganVtcFNob3AocGcpIHtcclxuICAgICAgICBpZiAoIWNjLnN5cy5pc05hdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdqdW1wU2hvcCcsICcoTGphdmEvbGFuZy9TdHJpbmc7KVYnLCBwZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnanVtcFNob3A6JywgcGcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy/lvLnlh7rmj5DnpLpcclxuICAgIHN0YXRpYyBzaG93VG9hc3Qoc3RyKSB7XHJcbiAgICAgICAgRlNESy5zaG93VG9hc3Qoc3RyKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aJk+W8gOWIhuS6q1xyXG4gICAgc3RhdGljIHNoYXJlKHNoYXJlSW5mbykge1xyXG4gICAgICAgIGlmICghY2Muc3lzLmlzTmF0aXZlKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ29wZW5TaGFyZScsICcoTGphdmEvbGFuZy9TdHJpbmc7KVYnLCBzaGFyZUluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ29wZW5TaGFyZTonLCBzaGFyZUluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+mihOWKoOi9veinhumikVxyXG4gICAgc3RhdGljIHByZWxvYWRWaWRlbyhpZCkge1xyXG4gICAgICAgIGlmICghY2Muc3lzLmlzTmF0aXZlKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ3ByZWxvYWRWaWRlbycsICcoTGphdmEvbGFuZy9TdHJpbmc7KVYnLCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAncHJlbG9hZFZpZGVvOicsIGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v6aKE5Yqg6L295o+S5bGPXHJcbiAgICBzdGF0aWMgcHJlbG9hZEludGVycyhpZCkge1xyXG4gICAgICAgIGlmICghY2Muc3lzLmlzTmF0aXZlKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ3ByZWxvYWRJbnRlcnMnLCAnKExqYXZhL2xhbmcvU3RyaW5nOylWJywgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ3ByZWxvYWRJbnRlcnM6JywgaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy/miZPlvIDop4bpopFcclxuICAgIHN0YXRpYyBvcGVuVmlkZW8oKSB7XHJcbiAgICAgICAgaWYgKCFjYy5zeXMuaXNOYXRpdmUpIHJldHVybjtcclxuICAgICAgICAvLyBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgLy8gICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnb3BlblZpZGVvJywgJygpVicpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgIC8vICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ29wZW5WaWRlbzonLCBcIjExXCIpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoZ2V0X3NpbXBsZV9hZCgpLmhhc1Jld2FyZCgpKSB7XHJcbiAgICAgICAgICAgIEZTREsuc2hvd1RvTG9hZChcIkFEIExvYWRpbmcuLi5cIik7XHJcbiAgICAgICAgICAgIGdldF9zaW1wbGVfYWQoKS5zaG93UmV3YXJkKFwi5omA5pyJ5Zy65pmvXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRk5hdGl2ZS52aWRlb0ZhaWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/miZPlvIBCYW5uZXJcclxuICAgIHN0YXRpYyBvcGVuQmFubmVyKGlkKSB7XHJcbiAgICAgICAgaWYgKCFjYy5zeXMuaXNOYXRpdmUpIHJldHVybjtcclxuICAgICAgICBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnb3BlbkJhbm5lcicsICcoTGphdmEvbGFuZy9TdHJpbmc7KVYnLCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnb3BlbkJhbm5lcjonLCBpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL+makOiXj2Jhbm5lclxyXG4gICAgc3RhdGljIGNsb3NlQmFubmVyKCkge1xyXG4gICAgICAgIGlmICghY2Muc3lzLmlzTmF0aXZlKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ2Nsb3NlQmFubmVyJywgJygpVicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUykge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKEZOYXRpdmUuZ2V0TmF0aXZlQ2xhc3MoKSwgJ2Nsb3NlQmFubmVyJywgJygpVicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aJk+W8gOaPkuWxj1xyXG4gICAgc3RhdGljIG9wZW5JbnRlcnMoKSB7XHJcbiAgICAgICAgaWYgKCFjYy5zeXMuaXNOYXRpdmUpIHJldHVybjtcclxuICAgICAgICAvLyBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgLy8gICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnb3BlbkludGVycycsICcoKVYnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZWxzZSBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19JT1MpIHtcclxuICAgICAgICAvLyAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChGTmF0aXZlLmdldE5hdGl2ZUNsYXNzKCksICdvcGVuSW50ZXJzOicsIFwiMTFcIik7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChnZXRfc2ltcGxlX2FkKCkuaGFzSW50ZXIoKSkge1xyXG4gICAgICAgICAgICBGU0RLLnNob3dUb0xvYWQoXCJBRCBMb2FkaW5nLi4uXCIpO1xyXG4gICAgICAgICAgICBnZXRfc2ltcGxlX2FkKCkuc2hvd0ludGVyKFwi5omA5pyJ5Zy65pmvXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgRk5hdGl2ZS5pbnRlcnNGYWlsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vd3jnmbvlvZVcclxuICAgIHN0YXRpYyB3eExvZ2luKCkge1xyXG4gICAgICAgIEZTREsuc2hvd1RvTG9hZChcIuato+WcqOaOiOadg+S4rS4uLlwiKTtcclxuICAgICAgICBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoRk5hdGl2ZS5nZXROYXRpdmVDbGFzcygpLCAnd3hMb2dpbicsICcoKVYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19JT1MpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICDljp/nlJ/nq6/ov5Tlm54gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLy/op4bpopHlm57osINcclxuICAgIHN0YXRpYyB2aWRlb0NiID0ge1xyXG4gICAgICAgIGNiOiBudWxsLFxyXG4gICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICBmcm9tOiBcIlwiXHJcbiAgICB9O1xyXG4gICAgLy/mj5LlsY/lm57osINcclxuICAgIHN0YXRpYyBpbnRlcnNDYiA9IHtcclxuICAgICAgICBjYjogbnVsbCxcclxuICAgICAgICB0YXJnZXQ6IG51bGxcclxuICAgIH1cclxuICAgIC8v6KeG6aKR6KeC55yLXHJcbiAgICBzdGF0aWMgQURfU0hPV19DTlQgPSB7XHJcbiAgICAgICAgQURfU0hPVzogMCwvL+aAu+ingueci+asoeaVsFxyXG4gICAgICAgIEFEX1NVQzogMC8v5oC76KeC55yL5a6M5qyh5pWwXHJcbiAgICB9XHJcbiAgICAvL+etieW+hTLnp5Llho3mi4notbdcclxuICAgIHN0YXRpYyBpc0xvYWQgPSBmYWxzZTtcclxuICAgIC8v5qyh5pWwXHJcbiAgICBzdGF0aWMgQURfQ09VTlQgPSB7XHJcbiAgICAgICAgXCJ2aWRlb1wiOiAwLFxyXG4gICAgICAgIFwiaW50ZXJzXCI6IDBcclxuICAgIH1cclxuICAgIC8v6KeG6aKR6Ze06ZqU5pe26Ze0XHJcbiAgICBzdGF0aWMgVklERU9fRlJFU0hfVElNRSA9IG51bGw7XHJcbiAgICBzdGF0aWMgdmlkZW9fZnJlc2hfdGltZSA9IDMwO1xyXG4gICAgLy/mj5LlsY/pl7TpmpTml7bpl7RcclxuICAgIHN0YXRpYyBJTlRFUlNfRlJFU0hfVElNRSA9IG51bGw7XHJcbiAgICBzdGF0aWMgaW50ZXJzX2ZyZXNoX3RpbWUgPSAzMDtcclxuICAgIC8v6KeG6aKR6KeC55yLXHJcbiAgICBzdGF0aWMgdmlkZW9TaG93KCkge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldE11c2ljVm9sdW1lKDApO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldEVmZmVjdHNWb2x1bWUoMCk7XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLnZpZGVvX3Nob3csIFwiMFwiKTtcclxuICAgICAgICBGU0RLLmhpZGVUb0xvYWQoKTtcclxuICAgICAgICBGU0RLLmFkRXZlbnQoJ3RvcG9uJywgJ3ZpZGVvJyk7XHJcbiAgICAgICAgRk5hdGl2ZS5BRF9DT1VOVC52aWRlbysrO1xyXG4gICAgICAgIEZTREsuc2F2ZURhdGEoXCJBRF9DT1VOVFwiLCBGTmF0aXZlLkFEX0NPVU5UKTtcclxuICAgICAgICBGU0RLLnVtZW5nRXZlbnQoXCJ2aWRlb19zaG93X3NjZW5lXCIsIEZOYXRpdmUudmlkZW9DYi5mcm9tKTtcclxuICAgICAgICBGTG9nLm5vcm1hbChcIuinhumikeWxleekulwiKTtcclxuICAgIH1cclxuICAgIC8v6KeG6aKR5a6M5pW06KeC55yLXHJcbiAgICBzdGF0aWMgdmlkZW9TdWMoKSB7XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLnZpZGVvX3N1YywgXCIwXCIpO1xyXG4gICAgICAgIGlmIChGTmF0aXZlLnZpZGVvQ2IuY2IgJiYgRk5hdGl2ZS52aWRlb0NiLnRhcmdldCkge1xyXG4gICAgICAgICAgICBGTmF0aXZlLnZpZGVvQ2IuY2IuY2FsbChGTmF0aXZlLnZpZGVvQ2IudGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRk5hdGl2ZS5BRF9TSE9XX0NOVC5BRF9TVUMrKztcclxuICAgICAgICBpZiAoRk5hdGl2ZS5BRF9TSE9XX0NOVC5BRF9TVUMgPj0gRkNvbmZpZy5GU0RLX0NPTkYuUkVBTF9VU0VSLmFkX251bSkge1xyXG4gICAgICAgICAgICBGU0RLLnNldEFjdGl2ZVVzZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRlNESy5zYXZlRGF0YShcIkFEX1NIT1dfQ05UXCIsIEZOYXRpdmUuQURfU0hPV19DTlQpO1xyXG4gICAgICAgIEZMb2cubm9ybWFsKFwi6KeG6aKR55yL5a6MICBcIiwgRk5hdGl2ZS5BRF9TSE9XX0NOVC5BRF9TVUMpO1xyXG4gICAgICAgIEZOYXRpdmUudmlkZW9DbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLy/op4bpopHlhbPpl61cclxuICAgIHN0YXRpYyB2aWRlb0Nsb3NlKCkge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldE11c2ljVm9sdW1lKDEpO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnNldEVmZmVjdHNWb2x1bWUoMSk7XHJcbiAgICAgICAgaWYgKCFGTmF0aXZlLlZJREVPX0ZSRVNIX1RJTUUgJiYgRkNvbmZpZy5GU0RLX0NPTkYuQURfQ09ORi52aWRlb19mcmVzaF90aW1lKSB7XHJcbiAgICAgICAgICAgIEZOYXRpdmUudmlkZW9fZnJlc2hfdGltZSA9IEZDb25maWcuRlNES19DT05GLkFEX0NPTkYudmlkZW9fZnJlc2hfdGltZTtcclxuICAgICAgICAgICAgRk5hdGl2ZS5WSURFT19GUkVTSF9USU1FID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKEZOYXRpdmUudmlkZW9fZnJlc2hfdGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEZOYXRpdmUudmlkZW9fZnJlc2hfdGltZS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KEZOYXRpdmUuVklERU9fRlJFU0hfVElNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRk5hdGl2ZS5WSURFT19GUkVTSF9USU1FID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZMb2cubm9ybWFsKFwi6KeG6aKR5YWz6ZetXCIpO1xyXG4gICAgfVxyXG4gICAgLy/op4bpopHlpLHotKVcclxuICAgIHN0YXRpYyB2aWRlb0ZhaWwoKSB7XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLnZpZGVvX2ZhaWwsIFwiMFwiKTtcclxuICAgICAgICBpZiAoRk5hdGl2ZS5pc0xvYWQpIHtcclxuICAgICAgICAgICAgRlNESy5oaWRlVG9Mb2FkKCk7XHJcbiAgICAgICAgICAgIEZTREsuc2hvd1RvYXN0KFwiVmlkZW8gaXMgbG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGTmF0aXZlLmlzTG9hZCA9IHRydWU7XHJcbiAgICAgICAgRlNESy5zaG93VG9Mb2FkKCdBRCBMb2FkaW5nLi4uJyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIEZOYXRpdmUub3BlblZpZGVvKCk7XHJcbiAgICAgICAgfSwgMjAwMClcclxuICAgICAgICBGTG9nLm5vcm1hbChcIuinhumikeWksei0pVwiKTtcclxuICAgIH1cclxuICAgIC8v6KeG6aKR54K55Ye7XHJcbiAgICBzdGF0aWMgdmlkZW9DbGljaygpIHtcclxuICAgICAgICBGU0RLLnVtZW5nRXZlbnQoRkNvbmZpZy5VTUVOR19DT05GSUcudmlkZW9fY2xpY2ssIFwiMFwiKTtcclxuICAgICAgICBGTG9nLm5vcm1hbChcIuinhumikeeCueWHu1wiKTtcclxuICAgIH1cclxuICAgIC8v5o+S5bGP5bGV56S6XHJcbiAgICBzdGF0aWMgaW50ZXJzU2hvdygpIHtcclxuICAgICAgICBGU0RLLnVtZW5nRXZlbnQoRkNvbmZpZy5VTUVOR19DT05GSUcuaW50ZXJfc2hvdywgXCIwXCIpO1xyXG4gICAgICAgIEZTREsuYWRFdmVudCgndG9wb24nLCAnaW50ZXJzdGl0aWFsJyk7XHJcbiAgICAgICAgRk5hdGl2ZS5BRF9DT1VOVC5pbnRlcnMrKztcclxuICAgICAgICBGTmF0aXZlLkFEX1NIT1dfQ05ULkFEX1NIT1crKztcclxuICAgICAgICBGU0RLLnNhdmVEYXRhKFwiQURfU0hPV19DTlRcIiwgRk5hdGl2ZS5BRF9TSE9XX0NOVCk7XHJcbiAgICAgICAgRlNESy5zYXZlRGF0YShcIkFEX0NPVU5UXCIsIEZOYXRpdmUuQURfQ09VTlQpO1xyXG4gICAgICAgIEZMb2cubm9ybWFsKFwi5o+S5bGP5bGV56S6XCIpO1xyXG4gICAgfVxyXG4gICAgLy/liLfmlrDmj5LlsY/ml7bpl7RcclxuICAgIHN0YXRpYyBmcmVzaEludGVycygpIHtcclxuICAgICAgICBpZiAoIUZOYXRpdmUuSU5URVJTX0ZSRVNIX1RJTUUpIHtcclxuICAgICAgICAgICAgRk5hdGl2ZS5JTlRFUlNfRlJFU0hfVElNRSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChGTmF0aXZlLmludGVyc19mcmVzaF90aW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRk5hdGl2ZS5pbnRlcnNfZnJlc2hfdGltZS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KEZOYXRpdmUuSU5URVJTX0ZSRVNIX1RJTUUpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZOYXRpdmUuSU5URVJTX0ZSRVNIX1RJTUUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aPkuWxj+WFs+mXrVxyXG4gICAgc3RhdGljIGludGVyc0Nsb3NlKCkge1xyXG4gICAgICAgIEZTREsuaGlkZVRvTG9hZCgpO1xyXG4gICAgICAgIGlmIChGTmF0aXZlLmludGVyc0NiLmNiICYmIEZOYXRpdmUuaW50ZXJzQ2IudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIEZOYXRpdmUuaW50ZXJzQ2IuY2IuY2FsbChGTmF0aXZlLmludGVyc0NiLnRhcmdldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBGTmF0aXZlLmludGVyc19mcmVzaF90aW1lID0gRkNvbmZpZy5GU0RLX0NPTkYuQURfQ09ORi5pbnRlcnNfZnJlc2hfdGltZVtGU0RLLmdldFVzZXJUeXBlKCldO1xyXG4gICAgICAgIEZOYXRpdmUuZnJlc2hJbnRlcnMoKTtcclxuXHJcbiAgICAgICAgRkxvZy5ub3JtYWwoXCLmj5LlsY/lhbPpl61cIik7XHJcbiAgICB9XHJcbiAgICAvL+aPkuWxj+Wksei0pVxyXG4gICAgc3RhdGljIGludGVyc0ZhaWwoKSB7XHJcbiAgICAgICAgaWYgKEZOYXRpdmUuaW50ZXJzQ2IuY2IgJiYgRk5hdGl2ZS5pbnRlcnNDYi50YXJnZXQpIHtcclxuICAgICAgICAgICAgRk5hdGl2ZS5pbnRlcnNDYi5jYi5jYWxsKEZOYXRpdmUuaW50ZXJzQ2IudGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLmludGVyX2ZhaWwsIFwiMFwiKTtcclxuICAgICAgICBGU0RLLmhpZGVUb0xvYWQoKTtcclxuICAgICAgICBGTG9nLm5vcm1hbChcIuaPkuWxj+Wksei0pVwiKTtcclxuICAgIH1cclxuICAgIC8v5o+S5bGP54K55Ye7XHJcbiAgICBzdGF0aWMgaW50ZXJzQ2xpY2soKSB7XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLmludGVyX2NsaWNrLCBcIjBcIik7XHJcbiAgICAgICAgRkxvZy5ub3JtYWwoXCLmj5LlsY/ngrnlh7tcIik7XHJcbiAgICB9XHJcbiAgICAvL0Jhbm5lcuWxleekulxyXG4gICAgc3RhdGljIGJhbm5lclNob3coKSB7XHJcbiAgICAgICAgRlNESy51bWVuZ0V2ZW50KEZDb25maWcuVU1FTkdfQ09ORklHLmJhbm5lcl9zaG93LCBcIjBcIik7XHJcbiAgICAgICAgRkxvZy5ub3JtYWwoXCJiYW5uZXLlsZXnpLpcIik7XHJcbiAgICB9XHJcbiAgICAvL0Jhbm5lcueCueWHu1xyXG4gICAgc3RhdGljIGJhbm5lckNsaWNrKCkge1xyXG4gICAgICAgIEZTREsudW1lbmdFdmVudChGQ29uZmlnLlVNRU5HX0NPTkZJRy5iYW5uZXJfY2xpY2ssIFwiMFwiKTtcclxuICAgICAgICBGTG9nLm5vcm1hbChcImJhbm5lcueCueWHu1wiKTtcclxuICAgIH1cclxuICAgIC8v5b6u5L+h5o6I5p2D5aSx6LSlXHJcbiAgICBzdGF0aWMgd3hMb2dpbkZhaWwoKSB7XHJcbiAgICAgICAgRlNESy5oaWRlVG9Mb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lvq7kv6HmjojmnYPmiJDlip9cclxuICAgIHN0YXRpYyB3eExvZ2luU3VjKHVzZXJfaW5mbykge1xyXG4gICAgICAgIEZTREsuaGlkZVRvTG9hZCgpO1xyXG4gICAgICAgIGlmICh1c2VyX2luZm8ub3BlbmlkKSB7XHJcbiAgICAgICAgICAgIEZTREsuc2F2ZURhdGEoJ1dYX0lORk8nLCB1c2VyX2luZm8pO1xyXG4gICAgICAgICAgICBGU0RLLnJlV3hJbmZvKHVzZXJfaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBGTmF0aXZlLnd4TG9naW5GYWlsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbndpbmRvd1snRk5hdGl2ZSddID0gRk5hdGl2ZTsiXX0=