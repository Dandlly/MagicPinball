{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FTransPage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FPanelManager } from \"../FModel/FPanelManager\";\r\nimport { FGlobal } from \"../FModel/FGlobal\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FTransPage extends cc.Component {\r\n    @property(cc.Label)\r\n    mPP: cc.Label = null;\r\n    @property(cc.Label)\r\n    mCoin: cc.Label = null;\r\n    @property(cc.EditBox)\r\n    mEM1: cc.EditBox = null;\r\n    @property(cc.EditBox)\r\n    mEM2: cc.EditBox = null;\r\n    @property(cc.Node)\r\n    mTos: cc.Node = null;\r\n    @property(cc.ScrollView)\r\n    mTosScroll: cc.ScrollView = null;\r\n    @property(cc.Sprite)\r\n    mTosSp: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    mIcon: cc.Sprite = null;\r\n    data = null;\r\n    type = 'task';\r\n    cb = null;\r\n    onLoad() {\r\n        this.node.setContentSize(cc.winSize);\r\n        this.mTosSp.spriteFrame = FNetWorkConfig.data.tos_img;\r\n    }\r\n\r\n    onEnable() {\r\n        this.mEM1.string = \"\";\r\n        this.mEM2.string = \"\";\r\n        this.mEM1.placeholderLabel.string = FConfig.FSDK_CONF.word.tip10;\r\n        this.mEM2.placeholderLabel.string = FConfig.FSDK_CONF.word.tip11;\r\n    }\r\n\r\n    onDisable() {\r\n    }\r\n\r\n    editBegin(target, pos) {\r\n        switch (pos) {\r\n            case \"1\":\r\n                this.mEM1.placeholderLabel.string = \"\";\r\n                break;\r\n            case \"2\":\r\n                this.mEM2.placeholderLabel.string = \"\";\r\n                break;\r\n        }\r\n    }\r\n\r\n    editEnd(target, pos) {\r\n        switch (pos) {\r\n            case \"1\":\r\n                this.mEM1.placeholderLabel.string = FConfig.FSDK_CONF.word.tip10;\r\n                break;\r\n            case \"2\":\r\n                this.mEM2.placeholderLabel.string = FConfig.FSDK_CONF.word.tip11;\r\n                break;\r\n        }\r\n    }\r\n\r\n    setData(data, cb, type = 'task', isCoin = false, icon = null) {\r\n        if (icon) {\r\n            this.mIcon.spriteFrame = icon;\r\n        }\r\n        this.cb = cb;\r\n        this.type = type;\r\n        this.mCoin.node.parent.active = isCoin;\r\n        FLog.normal(\"什么玩意啊\", data);\r\n        this.data = data;\r\n        this.mPP.string = \"$\" + this.data.amount;\r\n        this.mCoin.string = this.data.count;\r\n        // FLog.normal(\"FTransPage\", FConfig.conf,this.data,pos);\r\n    }\r\n\r\n    closePage() {\r\n        FPanelManager.close_eff(this.node, true);\r\n    }\r\n\r\n    getTrans() {\r\n        if (this.mEM1.string.length > 0) {\r\n            if (this.mEM2.string.length <= 0) {\r\n                FSDK.showToast(`Sorry, the phone can't be empty`);\r\n                return;\r\n            }\r\n            if (this.mEM1.string.indexOf('@') != -1) {\r\n                if (FGlobal.USER_INFO.credit >= this.data.count) {\r\n                    FSDK.setCredit('credit', -this.data.count, 'redeem');\r\n                    FSDK.getTrans(this.data.id, this.mEM1.string, this.mEM2.string, this.type, () => {\r\n                        this.closePage();\r\n                        if (this.cb) {\r\n                            this.cb();\r\n                            this.cb = null;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    FSDK.showToast('Credit is not enough')\r\n                }\r\n\r\n            }\r\n            else {\r\n                FSDK.showToast(`Sorry, your paypal email is not legal`);\r\n            }\r\n        }\r\n        else {\r\n            FSDK.showToast(`Sorry, the paypal email can't be empty`);\r\n        }\r\n    }\r\n\r\n    showTos() {\r\n        this.mTos.active = true;\r\n        this.mTosScroll.stopAutoScroll();\r\n        this.mTosScroll.scrollToTop(0);\r\n    }\r\n\r\n    closeTos() {\r\n        this.mTos.active = false;\r\n    }\r\n}\r\n"]}