{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FSignPage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FGlobal } from \"../FModel/FGlobal\";\r\nimport { FPanelManager } from \"../FModel/FPanelManager\";\r\nimport { FCreditRecord } from \"./FCreditRecord\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FSignPage extends cc.Component {\r\n    @property(cc.Label)\r\n    mTip1: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    mTransPro: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    mNowNum: cc.Label = null;\r\n    @property(cc.Label)\r\n    mSignDay: cc.Label = null;\r\n    @property(cc.Label)\r\n    mLabelPro: cc.Label = null;\r\n    @property(cc.Button)\r\n    mBtnTrans: cc.Button = null;\r\n    @property(cc.Node)\r\n    mSignNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    mProbaly: cc.Node = null;\r\n    @property(cc.Button)\r\n    mCollect: cc.Button = null;\r\n    @property(cc.Node)\r\n    mCard: cc.Node = null;\r\n    @property(cc.Node)\r\n    mCardNode: cc.Node = null;\r\n    @property(cc.Sprite)\r\n    mProbablyPro: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    mProbablyLab: cc.Label = null;\r\n    onLoad() {\r\n        this.node.setContentSize(cc.winSize);\r\n        this.node.getChildByName(\"Top\").height = 75 + FGlobal.getScale();\r\n        this.node.getChildByName(\"mainNode\").getComponent(cc.Widget).top = 75 + FGlobal.getScale();\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    onEnable() {\r\n        this.initData();\r\n        FSDK.addCreditListen(this.creditListen, this);\r\n    }\r\n\r\n    onDisable() {\r\n        FSDK.removeCreditListen(this.creditListen, this);\r\n    }\r\n\r\n    creditListen(data) {\r\n        if (data.type == 'gp') {\r\n            this.initData();\r\n        }\r\n    }\r\n\r\n    initData() {\r\n        this.mTip1.string = `can ${FConfig.FSDK_CONF.word.tip2})`;\r\n        this.mNowNum.string = `$${FGlobal.USER_INFO.credit_gp.toFixed(2)}`;\r\n        this.mTransPro.fillRange = FGlobal.USER_INFO.credit_gp / 100;\r\n        this.mLabelPro.string = `$${FGlobal.USER_INFO.credit_gp.toFixed(2)} / $100.00`;\r\n        this.mCard.active = false;\r\n        this.mBtnTrans.interactable = this.mTransPro.fillRange >= 1;\r\n        this.setSign();\r\n    }\r\n\r\n    setSign() {\r\n        this.mProbaly.active = FGlobal.SIGN_INFO.signDay >= 7;\r\n        this.mSignNode.active = !this.mProbaly.active;\r\n        if (FGlobal.SIGN_INFO.signDay < 7) {\r\n            this.mCollect.interactable = false;\r\n            for (let i = 0; i < this.mSignNode.childrenCount; i++) {\r\n                this.mSignNode.children[i].getChildByName('al_bg').active = false;\r\n                this.mSignNode.children[FGlobal.SIGN_INFO.signDay - FGlobal.SIGN_INFO.isSign].getChildByName('al_bg').active = true;\r\n                this.mSignNode.children[i].getChildByName('al').active = i < FGlobal.SIGN_INFO.signDay;\r\n                this.mSignNode.children[i].getChildByName('msg').getChildByName('label1').getComponent(cc.Label).string = FConfig.FSDK_CONF.word.tip1;\r\n                this.mSignNode.children[i].getChildByName('msg').getChildByName('label2').getComponent(cc.Label).string = i == 6 ? \"50\" : FConfig.FSDK_CONF.SIGN_CONF[i] + \"\";\r\n                if (i == this.mSignNode.childrenCount - 1) {\r\n                    this.mSignNode.children[i].getChildByName('msg').getChildByName('label1').getComponent(cc.Label).string = \"Probably get\";\r\n                }\r\n                if (!FGlobal.SIGN_INFO.isSign) {\r\n                    this.setScaleAction(this.mSignNode.children[FGlobal.SIGN_INFO.signDay - FGlobal.SIGN_INFO.isSign]);\r\n                    this.mCollect.interactable = true;\r\n                }\r\n                else {\r\n                    this.mSignNode.children[i].stopAllActions();\r\n                    this.mSignNode.children[i].scale = 1;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.mProbablyPro.fillRange = FGlobal.SIGN_INFO.signDay / 15;\r\n            this.mProbablyLab.string = FGlobal.SIGN_INFO.signDay + \"/\" + 15;\r\n            this.mCollect.interactable = this.mProbablyPro.fillRange >= 1 && !FGlobal.SIGN_INFO.isLongSign;\r\n        }\r\n    }\r\n\r\n    clickSign() {\r\n        if (FGlobal.SIGN_INFO.signDay < 7) {\r\n            if (!FGlobal.SIGN_INFO.isSign) {\r\n                FGlobal.SIGN_INFO.isSign = 1;\r\n                FGlobal.SIGN_INFO.signDay += 1;\r\n                FSDK.saveData('SIGN_INFO', FGlobal.SIGN_INFO);\r\n                this.moveCard();\r\n            }\r\n        }\r\n        else {\r\n            if (!FGlobal.SIGN_INFO.isLongSign) {\r\n                FGlobal.SIGN_INFO.isLongSign = 1;\r\n                FSDK.saveData('SIGN_INFO', FGlobal.SIGN_INFO);\r\n                this.moveCard(1);\r\n            }\r\n        }\r\n        this.mCollect.interactable = false;\r\n    }\r\n\r\n    setScaleAction(node: cc.Node) {\r\n        cc.tween(node)\r\n            .repeatForever(\r\n                cc.tween()\r\n                    .to(1, { scale: 1.1 })\r\n                    .to(1, { scale: 1 })\r\n            )\r\n            .start()\r\n    }\r\n\r\n    closePage() {\r\n        this.node.parent = null;\r\n    }\r\n\r\n    //卡飘上去\r\n    moveCard(type = 0) {\r\n        this.mCard.active = true;\r\n        if (type) {\r\n            this.mCard.scale = 0.45;\r\n            this.mCard.position = this.getStartPosition(this.mProbaly.getChildByName('card'));\r\n        }\r\n        else {\r\n            this.mCard.scale = 0.23;\r\n            this.mCard.position = this.getStartPosition(this.mSignNode.children[FGlobal.SIGN_INFO.signDay - 1]);\r\n        }\r\n        cc.tween(this.mCard)\r\n            // .by(0.2,{x:0,y:-40})\r\n            .to(0.5, { position: this.getEndPosition(), scale: 1 }, { easing: \"sineIn\" })\r\n            .call(function () {\r\n                this.mCard.active = false;\r\n                if (type) {\r\n                    FSDK.setCredit(\"gp\", 10, FConfig.CREDIT_FROM.SIGN_IN);\r\n                }\r\n                else {\r\n                    FSDK.setCredit(\"gp\", FConfig.FSDK_CONF.SIGN_CONF[FGlobal.SIGN_INFO.signDay - 1], FConfig.CREDIT_FROM.SIGN_IN);\r\n                }\r\n            }.bind(this))\r\n            .start();\r\n    }\r\n\r\n    //获取飘的起始点\r\n    getStartPosition(node: cc.Node) {\r\n        let word = node.parent.convertToWorldSpaceAR(node.position);\r\n        let start = this.node.getChildByName('mainNode').convertToNodeSpaceAR(word);\r\n        return start;\r\n    }\r\n    //获取目标点\r\n    getEndPosition() {\r\n        let word = this.mCardNode.convertToWorldSpaceAR(this.mCardNode.getChildByName('card').position);\r\n        let end = this.node.getChildByName('mainNode').convertToNodeSpaceAR(word);\r\n        return end;\r\n    }\r\n\r\n    //历史记录\r\n    gpRecord() {\r\n        FPanelManager.load('FCreditRecord', this.node, function (panel: cc.Node) {\r\n            panel.getComponent(FCreditRecord).setType('gp');\r\n        }.bind(this));\r\n    }\r\n\r\n    getTrans() {\r\n        FSDK.showToast(`You have abnormal behaviors,${FConfig.FSDK_CONF.word.tip2} failed`);\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}