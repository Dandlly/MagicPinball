{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FTransList.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FGlobal } from \"../FModel/FGlobal\";\r\nimport { FTransItem } from \"./FTransItem\";\r\nimport { FTransInfo } from \"./FTransInfo\";\r\nimport { FSocketSend } from \"../FNetWork/FSocketSend\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FTransList extends cc.Component {\r\n    @property(cc.Label)\r\n    mMyCoin: cc.Label = null;\r\n    @property(cc.Label)\r\n    mAbout: cc.Label = null;\r\n    @property(cc.Prefab)\r\n    mTransItem: cc.Prefab = null;\r\n    @property(cc.ScrollView)\r\n    mScroll: cc.ScrollView = null\r\n    @property(FTransInfo)\r\n    mFTransInfo: FTransInfo = null;\r\n    @property(cc.Sprite)\r\n    mIcom: cc.Sprite = null;\r\n    @property(cc.SpriteFrame)\r\n    mIconSp: cc.SpriteFrame[] = [];\r\n    onLoad() {\r\n        this.node.setContentSize(cc.winSize);\r\n        this.node.getChildByName(\"Top\").height = 85 + FGlobal.getScale();\r\n        this.mScroll.node.getComponent(cc.Widget).top = 330 + FGlobal.getScale();\r\n        FSDK.addCreditListen((data) => {\r\n            if (data.type == 'credit') {\r\n                this.mMyCoin.string = data.num;\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    setTask(type = 0, icon = null) {\r\n        if (icon == null) {\r\n            icon = this.mIconSp[type];\r\n        }\r\n        this.mIcom.spriteFrame = icon;\r\n        this.mFTransInfo.mIconSp = icon;\r\n        this.mFTransInfo.mIcon.spriteFrame = icon;\r\n        this.setData(icon);\r\n    }\r\n\r\n    onEnable() {\r\n        this.mScroll.stopAutoScroll();\r\n        this.mScroll.scrollToTop(0);\r\n        FSocketSend.C2S_trans_history('list');\r\n\r\n    }\r\n\r\n    setData(icon) {\r\n        this.mMyCoin.string = FGlobal.USER_INFO.credit + \"\";\r\n        let abount = FGlobal.USER_INFO.credit / 10000;\r\n        this.mAbout.string = `â‰ˆ$${abount.toFixed(2)}`;\r\n        if (!this.mScroll.content.childrenCount) {\r\n            for (let i = 0; i < FConfig.conf.redeem_task.list.length; i++) {\r\n                let transItem: cc.Node = cc.instantiate(this.mTransItem);\r\n                transItem.parent = this.mScroll.content;\r\n                transItem.getComponent(FTransItem).setData(FConfig.conf.redeem_task.list[i], this.mFTransInfo, icon);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    closePage() {\r\n        this.node.parent = null;\r\n    }\r\n}\r\n"]}