{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FCardPage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FPanelManager } from \"../FModel/FPanelManager\";\r\nimport { FGlobal } from \"../FModel/FGlobal\";\r\nimport { FSocketSend } from \"../FNetWork/FSocketSend\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FCardPage extends cc.Component {\r\n    @property(cc.Label)\r\n    mPP: cc.Label = null;\r\n    @property(cc.EditBox)\r\n    mEM1: cc.EditBox = null;\r\n    @property(cc.EditBox)\r\n    mEM2: cc.EditBox = null;\r\n    @property(cc.Node)\r\n    mTos: cc.Node = null;\r\n    @property(cc.ScrollView)\r\n    mTosScroll: cc.ScrollView = null;\r\n    data = null;\r\n\r\n    onLoad() {\r\n        this.node.setContentSize(cc.winSize);\r\n    }\r\n\r\n    onEnable() {\r\n        this.mEM1.string = \"\";\r\n        this.mEM2.string = \"\";\r\n        FSDK.closeBanner();\r\n    }\r\n\r\n    onDisable(){\r\n        FSDK.openBanner();\r\n    }\r\n\r\n    editBegin(target, pos) {\r\n        switch (pos) {\r\n            case \"1\":\r\n                this.mEM1.placeholderLabel.string = \"\";\r\n                break;\r\n            case \"2\":\r\n                this.mEM2.placeholderLabel.string = \"\";\r\n                break;\r\n        }\r\n    }\r\n\r\n    editEnd(target, pos) {\r\n        switch (pos) {\r\n            case \"1\":\r\n                this.mEM1.placeholderLabel.string = \"Input your email\";\r\n                break;\r\n            case \"2\":\r\n                this.mEM2.placeholderLabel.string = \"Confirm your email\";\r\n                break;\r\n        }\r\n    }\r\n\r\n    setData(pos) {\r\n        this.data = FConfig.conf.invite_task[pos];\r\n        this.mPP.string = FConfig.FSDK_CONF.word.tip1 + \" $\" + this.data.amount;\r\n        FLog.normal(\"FTransPage\", FConfig.conf,this.data,pos);\r\n    }\r\n\r\n    closePage() {\r\n        FPanelManager.close_eff(this.node, true);\r\n    }\r\n\r\n    getTrans() {\r\n        if (FGlobal.USER_INFO.invite_count >= this.data.count) {\r\n            if (this.mEM1.string != this.mEM2.string) {\r\n                FSDK.showToast('Please confirm your email');\r\n                return;\r\n            }\r\n            if (this.mEM1.string.length > 0) {\r\n                if (this.mEM1.string.indexOf('@') != -1) {\r\n                    this.closePage();\r\n                    FSocketSend.C2S_trans(this.data.id, this.mEM1.string, this.mEM1.string, 'invite');\r\n                    FGlobal.invite_task.push(this.data.id);\r\n                    cc.director.emit(FEventID.S2C_trans_history);\r\n                }\r\n                else {\r\n                    FSDK.showToast(`Sorry, your email is not legal`);\r\n                }\r\n            }\r\n            else {\r\n                FSDK.showToast(`Sorry, the email can't be empty`);\r\n            }\r\n        }\r\n        else {\r\n            FSDK.showToast('Sorry, your invitation has not been completed yet');\r\n        }\r\n\r\n    }\r\n\r\n    showTos() {\r\n        this.mTos.active = true;\r\n        this.mTosScroll.stopAutoScroll();\r\n        this.mTosScroll.scrollToTop(0);\r\n    }\r\n\r\n    closeTos() {\r\n        this.mTos.active = false;\r\n    }\r\n}\r\n"]}