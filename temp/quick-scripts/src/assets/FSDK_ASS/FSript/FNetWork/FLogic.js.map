{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FNetWork\\FLogic.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FGlobal } from \"../FModel/FGlobal\";\r\n\r\nexport class FLogic {\r\n    public cbList = {};\r\n    public static _instance: FLogic;\r\n    public RESTAR_TIME = null;\r\n    //在线计时器\r\n    public ONLINE_TIME = null;\r\n    public static getInstance() {\r\n        if (!FLogic._instance) {\r\n            FLogic._instance = new FLogic();\r\n        }\r\n        return FLogic._instance;\r\n    }\r\n\r\n    //注册监听\r\n    public addCommonListenser() {\r\n        cc.director.on(FEventID.S2C_reg_login, this.on_S2C_reg_login, this);\r\n        cc.director.on(FEventID.S2C_heartbeat, this.on_S2C_heartbeat, this);\r\n        cc.director.on(FEventID.S2C_info, this.on_S2C_info, this);\r\n        cc.director.on(FEventID.S2C_update_credit, this.on_S2C_update_credit, this);\r\n        cc.director.on(FEventID.S2C_update_coin, this.on_S2C_update_coin, this);\r\n        cc.director.on(FEventID.S2C_invited, this.on_S2C_invited, this);\r\n        cc.director.on(FEventID.S2C_trans_history, this.on_S2C_trans_history, this);\r\n        cc.director.on(FEventID.S2C_pg_user_cnt, this.on_S2C_pg_user_cnt, this);\r\n        cc.director.on(FEventID.S2C_trans, this.on_S2C_trans, this);\r\n    }\r\n\r\n    //移除监听\r\n    public removeCommonListenser() {\r\n        cc.director.off(FEventID.S2C_reg_login, this.on_S2C_reg_login, this);\r\n        cc.director.off(FEventID.S2C_update_credit, this.on_S2C_update_credit, this);\r\n        cc.director.off(FEventID.S2C_info, this.on_S2C_info, this);\r\n        cc.director.off(FEventID.S2C_heartbeat, this.on_S2C_heartbeat, this);\r\n        cc.director.off(FEventID.S2C_update_coin, this.on_S2C_update_coin, this);\r\n        cc.director.off(FEventID.S2C_invited, this.on_S2C_invited, this);\r\n        cc.director.off(FEventID.S2C_trans_history, this.on_S2C_trans_history, this);\r\n        cc.director.off(FEventID.S2C_pg_user_cnt, this.on_S2C_pg_user_cnt, this);\r\n        cc.director.off(FEventID.S2C_trans, this.on_S2C_trans, this);\r\n    }\r\n\r\n    //心跳返回\r\n    private on_S2C_heartbeat(msg) {\r\n        if (FGlobal.getDateDay(FGlobal.USER_INFO.now) < FGlobal.getDateDay(msg.data.time)) {\r\n            FGlobal.resetData();\r\n            if (FLogic.getInstance().cbList[FEventID.NEXT_DAY]) {\r\n                let cb = FLogic.getInstance().cbList[FEventID.NEXT_DAY].cb;\r\n                let target = FLogic.getInstance().cbList[FEventID.NEXT_DAY].target;\r\n                cb.call(target);\r\n            }\r\n        }\r\n        FGlobal.USER_INFO.now = msg.data.time;\r\n        FGlobal.NetWork.heartbeat();\r\n    }\r\n\r\n    //登录返回信息\r\n    private on_S2C_reg_login(msg) {\r\n        FSDK.hideToLoad();\r\n        FLog.normal(\"服务器返回登录信息   \", msg);\r\n        let cb = FLogic.getInstance().cbList[FEventID.S2C_reg_login].cb;\r\n        let target = FLogic.getInstance().cbList[FEventID.S2C_reg_login].target;\r\n        if (msg.err) {\r\n            if (msg.err == 'RELOGIN MUST DELAY') {\r\n                FGlobal.NetWork.clearAllTime();\r\n                FGlobal.NetWork.off(FEventID.EVENT_CLOSE);\r\n                FGlobal.NetWork.off(FEventID.EVENT_IO_ERROR);\r\n                FGlobal.NetWork = null;\r\n                FSDK.object.RESTAR_TIME = setTimeout(function () {\r\n                    FSDK.init(FNetWorkConfig.data, FGlobal.NetWork.cb, FGlobal.NetWork.target);\r\n                    clearTimeout(FSDK.object.RESTAR_TIME);\r\n                    FSDK.hideToLoad();\r\n                }, (msg.data.must_delay + 1) * 1000);\r\n                FSDK.showToLoad(\"Rebinding\", msg.data.must_delay + 1);\r\n            }\r\n            return;\r\n        }\r\n        if (msg.data) {\r\n            FGlobal.USER_INFO.preferences = msg.data.preferences;\r\n            FGlobal.setPreferences();\r\n            FGlobal.USER_INFO.invite_code = msg.data.invite_code;\r\n            FGlobal.USER_INFO.invite_count = msg.data.invite_count;\r\n            FGlobal.USER_INFO.be_invite = msg.data.personal.invited;\r\n            FGlobal.USER_INFO.login_cnt = msg.data.login_cnt;\r\n            FGlobal.USER_INFO.login_days = msg.data.login_days;\r\n            FGlobal.USER_INFO.credit = msg.data.basic.credit;\r\n            FGlobal.USER_INFO.reg_time = msg.data.reg_time;\r\n            FGlobal.USER_INFO.off_time = msg.data.offline_timelen;\r\n            FGlobal.USER_INFO.login_time = msg.data.now;\r\n            FGlobal.USER_INFO.trans_record = msg.data.basic.redeem_task;\r\n            FGlobal.USER_INFO.online_total = msg.data.online_total;\r\n            FGlobal.USER_INFO.isFlag = msg.data.basic.user_vip;\r\n            FGlobal.USER_INFO.isBlack = msg.data.b;\r\n            FGlobal.USER_INFO.now = msg.data.now;\r\n            FGlobal.USER_INFO.credit_pp = msg.data.basic.coins[\"pp\"] ? msg.data.basic.coins[\"pp\"] : 0;\r\n            FGlobal.USER_INFO.credit_gp = msg.data.basic.coins[\"gp\"] ? msg.data.basic.coins[\"gp\"] : 0;\r\n            if (msg.data.conf_hash) {\r\n                FConfig.conf_hash = msg.data.conf_hash;\r\n                localStorage.setItem('conf_hash', FConfig.conf_hash);\r\n            }\r\n            if (msg.data.game_settings_info && msg.data.game_settings_info.zip) {\r\n                FConfig.game_settings_info = msg.data.game_settings_info;\r\n                localStorage.setItem('game_settings_info', JSON.stringify(FConfig.game_settings_info));\r\n            }\r\n            if (msg.data.conf) {\r\n                FConfig.conf = msg.data.conf;\r\n                localStorage.setItem('conf', JSON.stringify(FConfig.conf));\r\n                FLog.normal(\"看看配置2   \", msg.data.conf);\r\n            }\r\n            FGlobal.setConf();\r\n\r\n            //是否第二天重置\r\n            if (FGlobal.getDateDay(FGlobal.USER_INFO.login_time - FGlobal.USER_INFO.off_time) < FGlobal.getDateDay(FGlobal.USER_INFO.login_time)) {\r\n                FGlobal.resetData();\r\n                FGlobal.USER_INFO.isNextDay = true;\r\n            }\r\n            else {\r\n                FGlobal.USER_INFO.isNextDay = false;\r\n            }\r\n\r\n            if (!this.ONLINE_TIME && !FGlobal.USER_INFO.preferences['real']) {\r\n                this.ONLINE_TIME = setInterval(() => {\r\n                    FGlobal.USER_INFO.online_total++;\r\n                    if (FGlobal.USER_INFO.online_total >= FConfig.FSDK_CONF.REAL_USER.online_time) {\r\n                        FSDK.setActiveUser();\r\n                    }\r\n                }, 1000)\r\n            }\r\n        }\r\n        cb.call(target, FGlobal.USER_INFO);\r\n        FNative.preloadVideo(FConfig.FSDK_CONF.AD_CONF.video);\r\n        FNative.preloadInters(FConfig.FSDK_CONF.AD_CONF.inters);\r\n        FSDK.umengEvent(\"server_suc\", \"0\");\r\n\r\n\r\n        //插屏时间验证\r\n        let lineTime = FGlobal.USER_INFO.now - FGlobal.USER_INFO.reg_time;\r\n        if (FConfig.FSDK_CONF.AD_CONF.inters_fresh_time.star - lineTime > 0) {\r\n            FNative.inters_fresh_time = FConfig.FSDK_CONF.AD_CONF.inters_fresh_time.star - lineTime + FConfig.FSDK_CONF.AD_CONF.inters_fresh_time[FSDK.getUserType()];\r\n        }\r\n        else {\r\n            FNative.inters_fresh_time = FConfig.FSDK_CONF.AD_CONF.inters_fresh_time[FSDK.getUserType()];\r\n        }\r\n        FNative.freshInters();\r\n\r\n    }\r\n\r\n    //credit更新信息\r\n    private on_S2C_update_credit(msg) {\r\n        if (msg.err) {\r\n            FSDK.showToast(msg.err);\r\n            return;\r\n        }\r\n        let change = 0;\r\n        if (msg.data) {\r\n            change = msg.data.credit - FGlobal.USER_INFO.credit;\r\n            FGlobal.USER_INFO.credit = msg.data.credit;\r\n        }\r\n        let data = {\r\n            type: \"credit\",\r\n            num: FGlobal.USER_INFO.credit,\r\n            change: change\r\n        };\r\n        cc.director.emit(FEventID.FRESH_CREDIT, data)\r\n    }\r\n\r\n    //其它credit更新信息\r\n    private on_S2C_update_coin(msg) {\r\n        if (msg.err) {\r\n            FSDK.showToast(msg.err);\r\n            return;\r\n        }\r\n        let change = 0;\r\n        if (msg.data) {\r\n            switch (msg.data.name) {\r\n                case 'pp':\r\n                    change = msg.data.coin - FGlobal.USER_INFO.credit_pp;\r\n                    FGlobal.USER_INFO.credit_pp = msg.data.coin;\r\n                    FGlobal.USER_INFO.cardGet.pp++;\r\n                    break;\r\n                case 'gp':\r\n                    change = msg.data.coin - FGlobal.USER_INFO.credit_gp;\r\n                    FGlobal.USER_INFO.credit_gp = msg.data.coin;\r\n                    FGlobal.USER_INFO.cardGet.gp++;\r\n                    break;\r\n            }\r\n        }\r\n        let data = {\r\n            type: msg.data.name,\r\n            num: FGlobal.USER_INFO[\"credit_\" + msg.data.name],\r\n            change: change\r\n        };\r\n        FSDK.saveData(\"CARD_GET\",FGlobal.USER_INFO.cardGet);\r\n        cc.director.emit(FEventID.FRESH_CREDIT, data);\r\n    }\r\n\r\n    //返回信息同步数据\r\n    private on_S2C_info(msg) {\r\n        if (msg.err) {\r\n            return;\r\n        }\r\n        if (msg.data) {\r\n            if (msg.data.basic) {\r\n                if (msg.data.basic.user_vip) {\r\n                    FGlobal.USER_INFO.isFlag = msg.data.basic.user_vip;\r\n                    cc.director.emit(FEventID.FRESH_FLAG, FGlobal.USER_INFO.isFlag);\r\n                }\r\n                if (msg.data.basic.credit) {\r\n                    FGlobal.USER_INFO.credit = msg.data.basic.credit;\r\n                }\r\n            }\r\n            if (msg.data.invite) {\r\n                FGlobal.USER_INFO.invite_count = msg.data.invite.count;\r\n                if (msg.data.invite.task) {\r\n                    FGlobal.invite_task = msg.data.invite.task;\r\n                }\r\n            }\r\n            if (msg.data.coins) {\r\n                cc.director.emit(FEventID.CARD_RECORD, msg.data.coins);\r\n            }\r\n            cc.director.emit(FEventID.FRESH_USERINFO, msg.data);\r\n        }\r\n    }\r\n\r\n    private on_S2C_invited(msg) {\r\n        if (msg.err) {\r\n            FSDK.showToast(msg.err);\r\n            return;\r\n        }\r\n    }\r\n\r\n    private on_S2C_trans_history(msg) {\r\n        let data = {\r\n            redeem_task: FConfig.conf.redeem_task,\r\n            history: null\r\n        }\r\n        if (msg.err) {\r\n            data.history = null;\r\n        }\r\n        else {\r\n            data.history = msg.data.records;\r\n        }\r\n        if (FLogic.getInstance().cbList[FEventID.S2C_trans_history]) {\r\n            FLogic.getInstance().cbList[FEventID.S2C_trans_history].cb.call(FLogic.getInstance().cbList[FEventID.S2C_trans_history].target, data);\r\n            FLogic.getInstance().cbList[FEventID.S2C_trans_history] = null;\r\n        }\r\n    }\r\n\r\n    private on_S2C_pg_user_cnt(msg) {\r\n        let data = null;\r\n        if (msg.err) {\r\n\r\n        }\r\n        else {\r\n            data = msg.data.info;\r\n        }\r\n        if (FLogic.getInstance().cbList[FEventID.S2C_pg_user_cnt]) {\r\n            FLogic.getInstance().cbList[FEventID.S2C_pg_user_cnt].cb(data);\r\n            FLogic.getInstance().cbList[FEventID.S2C_pg_user_cnt] = null;\r\n        }\r\n    }\r\n\r\n    private on_S2C_trans(msg) {\r\n        if (msg.err) {\r\n            FSDK.showToast(msg.err);\r\n        }\r\n        else {\r\n            if (FLogic.getInstance().cbList[FEventID.S2C_trans]) {\r\n                FLogic.getInstance().cbList[FEventID.S2C_trans].cb();\r\n                FLogic.getInstance().cbList[FEventID.S2C_trans] = null;\r\n            }\r\n        }\r\n    }\r\n}"]}