{"version":3,"sources":["assets\\SDK\\script\\SimpleAd.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import * as AT from './AnyThinkAds/ATJSSDK'\r\nimport * as ATRW from './AnyThinkAds/ATRewardedVideoJSSDK'\r\nimport * as ATIN from './AnyThinkAds/ATInterstitialJSSDK'\r\nimport * as ATBA from './AnyThinkAds/ATBannerJSSDK'\r\nimport SimpleUtils from './SimpleUtils';\r\nimport * as SDK from './SimpleInterface';\r\nimport SimpleSDK from './SimpleSDK';\r\nimport SimpleAnalytics from './SimpleAnalytics';\r\nimport SimpleSDKEvent from './SimpleSDKEvent';\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n\r\n@ccclass\r\nexport default class SimpleAd extends cc.Component {\r\n    hasInit = false;\r\n    lastTryLoadAllTs = -1;\r\n    ATJSSDK = null;\r\n    ATRewardedVideoJSSDK = null;\r\n    ATInterstitialJSSDK = null;\r\n    ATBannerJSSDK = null;\r\n\r\n    static TRT_LOAD_ALL_INTERVAL = 60;\r\n    static STATUS_INIT = 0;\r\n    static STATUS_LOADING = 1;\r\n    static STATUS_SUCCESS = 2;\r\n    static STATUS_FAILED = 3;\r\n    static BANNER_TOP = 0;\r\n    static BANNER_BOTTOM = 1;\r\n\r\n    rewardId: string = null;\r\n    rewardLoadingStatus = SimpleAd.STATUS_INIT;\r\n    rewardListener: SDK.SimpleRewardListener = null;\r\n    atRewardedVideoListener = {\r\n        adEntry: \"\",\r\n\r\n        setEntry: function (e) {\r\n            this.adEntry = e;\r\n        },\r\n        //Callbacks\r\n        onRewardedVideoAdLoaded: function (placementId: string) {\r\n            SimpleUtils.log(\"onRewardedVideoAdLoaded(\" + placementId + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.rewardLoad();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD, SimpleSDKEvent.buildAdLoad(SimpleSDKEvent.AD_TYPE_REWARD, placementId));\r\n        },\r\n\r\n        onRewardedVideoAdFailed: function (placementId: string, errorInfo: string) {\r\n            SimpleUtils.log(\"onRewardedVideoAdFailed(\" + placementId + \", \" + errorInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.rewardLoadFail();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD_FAIL, SimpleSDKEvent.buildAdLoadFail(SimpleSDKEvent.AD_TYPE_REWARD, placementId, errorInfo));\r\n        },\r\n\r\n        onRewardedVideoAdPlayStart: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            SimpleUtils.log(\"onRewardedVideoAdPlayStart(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_SHOW, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_REWARD, placementId, callbackInfoJson));\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.rewardListener != null) {\r\n                ad.rewardListener.onRewardedVideoAdPlayStart(this.adEntry, callbackInfoJson);\r\n            }\r\n        },\r\n\r\n        onRewardedVideoAdPlayEnd: function (placementId: string, callbackInfo: string) {\r\n            SimpleUtils.log(\"onRewardedVideoAdPlayEnd(\" + placementId + \", \" + callbackInfo + \")\");\r\n        },\r\n\r\n        onRewardedVideoAdPlayFailed: function (placementId: string, errorInfo: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            SimpleUtils.log(\"onRewardedVideoAdPlayFailed(\" + placementId + \", \" + errorInfo + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.rewardListener != null) {\r\n                ad.rewardListener.onRewardedVideoAdPlayFailed(this.adEntry, errorInfo, callbackInfoJson);\r\n            }\r\n        },\r\n\r\n        onRewardedVideoAdClosed: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            SimpleUtils.log(\"onRewardedVideoAdClosed(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.rewardClose();\r\n            if (ad.rewardListener != null) {\r\n                ad.rewardListener.onRewardedVideoAdClosed(this.adEntry, callbackInfoJson);\r\n            }\r\n        },\r\n\r\n        onRewardedVideoAdPlayClicked: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            SimpleUtils.log(\"onRewardedVideoAdPlayClicked(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_CLICK, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_REWARD, placementId, callbackInfoJson));\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.rewardListener != null) {\r\n                ad.rewardListener.onRewardedVideoAdPlayClicked(this.adEntry, callbackInfoJson);\r\n            }\r\n        },\r\n\r\n        onReward: function (placementId, callbackInfo) {\r\n            SimpleUtils.log(\"onReward(\" + placementId + \", \" + callbackInfo + \")\");\r\n        }\r\n    }\r\n\r\n    interId: string = null;\r\n    interLoadingStatus = SimpleAd.STATUS_INIT;\r\n    interListener: SDK.SimpleInterListener = null;\r\n    atInterstitialListener = {\r\n        adEntry: \"\",\r\n        setEntry(adEntry: string) {\r\n            this.adEntry = adEntry;\r\n        },\r\n        onInterstitialAdLoaded: function (placementId: string) {\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.interLoad();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD, SimpleSDKEvent.buildAdLoad(SimpleSDKEvent.AD_TYPE_INTERSTITIAL, placementId));\r\n            SimpleUtils.log(\"onInterstitialAdLoaded(\" + placementId + \")\");\r\n        },\r\n\r\n        onInterstitialAdLoadFail: function (placementId: string, errorInfo: string) {\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.interLoadFail();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD_FAIL, SimpleSDKEvent.buildAdLoadFail(SimpleSDKEvent.AD_TYPE_INTERSTITIAL, placementId, errorInfo));\r\n            SimpleUtils.log(\"onInterstitialAdLoadFail(\" + placementId + \", \" + errorInfo + \")\");\r\n        },\r\n\r\n        onInterstitialAdShow: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_SHOW, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_INTERSTITIAL, placementId, callbackInfoJson));\r\n            SimpleUtils.log(\"onInterstitialAdShow(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.interListener != null) {\r\n                ad.interListener.onInterstitialAdShow(this.adEntry, callbackInfoJson)\r\n            }\r\n        },\r\n\r\n        onInterstitialAdStartPlayingVideo: function (placementId, callbackInfo) {\r\n            SimpleUtils.log(\"onInterstitialAdStartPlayingVideo(\" + placementId + \", \" + callbackInfo + \")\");\r\n        },\r\n\r\n        onInterstitialAdEndPlayingVideo: function (placementId, callbackInfo) {\r\n            SimpleUtils.log(\"onInterstitialAdEndPlayingVideo(\" + placementId + \", \" + callbackInfo + \")\");\r\n        },\r\n\r\n        onInterstitialAdFailedToPlayVideo: function (placementId, errorInfo) {\r\n            SimpleUtils.log(\"onInterstitialAdFailedToPlayVideo(\" + placementId + \", \" + errorInfo + \")\");\r\n        },\r\n\r\n        onInterstitialAdFailedToShow: function (placementId) {\r\n            SimpleUtils.log(\"onInterstitialAdFailedToShow(\" + placementId + \")\");\r\n        },\r\n\r\n        onInterstitialAdClose: function (placementId, callbackInfo) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            SimpleUtils.log(\"onInterstitialAdClose(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.interClose();\r\n            if (ad.interListener != null) {\r\n                ad.interListener.onInterstitialAdClose(this.adEntry, callbackInfoJson)\r\n            }\r\n        },\r\n\r\n        onInterstitialAdClick: function (placementId, callbackInfo) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_CLICK, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_INTERSTITIAL, placementId, JSON.parse(callbackInfo)));\r\n            SimpleUtils.log(\"onInterstitialAdClick(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.interListener != null) {\r\n                ad.interListener.onInterstitialAdClick(this.adEntry, callbackInfoJson)\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    bannerId: string = null;\r\n    bannerLoadingStatus = SimpleAd.STATUS_INIT;\r\n    bannerWidth: number = -1;\r\n    bannerHeight: number = -1;\r\n    bannerHasShow = false;\r\n    bannerListener: SDK.SimpleBannerListener = null;\r\n    atBannerListener = {\r\n        onBannerAdLoaded: function (placementId: string) {\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.bannerLoad();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD, SimpleSDKEvent.buildAdLoad(SimpleSDKEvent.AD_TYPE_BANNER, placementId));\r\n            SimpleUtils.log(\"onBannerAdLoaded(\" + placementId + \")\");\r\n        },\r\n\r\n        onBannerAdLoadFail: function (placementId: string, errorInfo: string) {\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            ad.bannerLoadFail();\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_LOAD_FAIL, SimpleSDKEvent.buildAdLoadFail(SimpleSDKEvent.AD_TYPE_BANNER, placementId, errorInfo));\r\n\r\n            SimpleUtils.log(\"onBannerAdLoadFail(\" + placementId + \", \" + errorInfo + \")\");\r\n        },\r\n\r\n        onBannerAdShow: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_SHOW, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_BANNER, placementId, callbackInfoJson));\r\n            SimpleUtils.log(\"onBannerAdShow(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.bannerListener != null) {\r\n                ad.bannerListener.onBannerAdShow(placementId, callbackInfoJson)\r\n            }\r\n        },\r\n\r\n        onBannerAdClick: function (placementId: string, callbackInfo: string) {\r\n            let callbackInfoJson = JSON.parse(callbackInfo);\r\n            let ana: SimpleAnalytics = SimpleSDK.analytics_instance();\r\n            ana.sendLog(SimpleSDKEvent.AD_CLICK, SimpleSDKEvent.buildMapWithCallback(SimpleSDKEvent.AD_TYPE_BANNER, placementId, callbackInfoJson));\r\n            SimpleUtils.log(\"onBannerAdClick(\" + placementId + \", \" + callbackInfo + \")\");\r\n            let ad: SimpleAd = SimpleSDK.ad_instance();\r\n            if (ad.bannerListener != null) {\r\n                ad.bannerListener.onBannerAdClick(placementId, callbackInfoJson)\r\n            }\r\n        },\r\n\r\n        onBannerAdAutoRefresh: function (placementId, callbackInfo) {\r\n            SimpleUtils.log(\"onBannerAdAutoRefresh(\" + placementId + \", \" + callbackInfo + \")\");\r\n        },\r\n\r\n        onBannerAdAutoRefreshFail: function (placementId, errorInfo) {\r\n            SimpleUtils.log(\"onBannerAdAutoRefreshFail(\" + placementId + \", \" + errorInfo + \")\");\r\n        },\r\n\r\n        onBannerAdCloseButtonTapped: function (placementId, callbackInfo) {\r\n            SimpleUtils.log(\"onBannerAdCloseButtonTapped(\" + placementId + \", \" + callbackInfo + \")\");\r\n        }\r\n    };\r\n\r\n    init(config: SDK.SimpleConfig) {\r\n        this.ATJSSDK = window.ATJSSDK;\r\n        this.ATRewardedVideoJSSDK = window.ATRewardedVideoJSSDK;\r\n        this.ATInterstitialJSSDK = window.ATInterstitialJSSDK;\r\n        this.ATBannerJSSDK = window.ATBannerJSSDK;\r\n        if (SimpleUtils.isEditor()) {\r\n            cc.log(\"skip init at sdk\");\r\n        }\r\n        else {\r\n            if (config.debug) {\r\n                this.ATJSSDK.setLogDebug(true);\r\n            }\r\n\r\n            this.rewardId = config.rewardPlacementId;\r\n            this.interId = config.interstitialPlacementId;\r\n            this.bannerId = config.bannePlacementId;\r\n\r\n            this.bannerWidth = cc.view.getFrameSize().width - 10;\r\n            if (config.bannerWidth > 0) {\r\n                this.bannerWidth = config.bannerWidth;\r\n            }\r\n            this.bannerHeight = this.bannerWidth / (320 / 50);\r\n            if (config.bannerHeight > 0) {\r\n                this.bannerHeight = config.bannerHeight;\r\n            }\r\n            // 加载广告\r\n            this.ATRewardedVideoJSSDK.setAdListener(this.atRewardedVideoListener);\r\n            this.ATInterstitialJSSDK.setAdListener(this.atInterstitialListener);\r\n            this.ATBannerJSSDK.setAdListener(this.atBannerListener);\r\n\r\n            SimpleUtils.log(\"start anythink sdk with \" + config.toponAppid);\r\n            this.ATJSSDK.setGDPRLevel(this.ATJSSDK.PERSONALIZED);\r\n            this.ATJSSDK.initSDK(config.toponAppid, config.toponKey);\r\n            this.tryLoadAll();\r\n            this.hasInit = true;\r\n        }\r\n    }\r\n\r\n    public update(dt: number) {\r\n        if (this.hasInit) {\r\n            let now = SimpleUtils.getTimestamp();\r\n            if (this.lastTryLoadAllTs + SimpleAd.TRT_LOAD_ALL_INTERVAL < now) {\r\n                this.tryLoadAll();\r\n            }\r\n        }\r\n    }\r\n\r\n    public tryLoadAll() {\r\n        SimpleUtils.log(\"try to load all ad\");\r\n        let now = SimpleUtils.getTimestamp();\r\n        this.lastTryLoadAllTs = now;\r\n        if (!this.hasReward()) {\r\n            this.tryLoadReward();\r\n        }\r\n        else {\r\n            SimpleUtils.log(\"skip load reward because reward has ad\");\r\n        }\r\n        if (!this.hasInter()) {\r\n            this.tryLoadInter();\r\n        }\r\n        else {\r\n            SimpleUtils.log(\"skip load inter because inter has ad\");\r\n        }\r\n        if (!this.hasBanner()) {\r\n            this.tryLoadBanner();\r\n        }\r\n        else {\r\n            SimpleUtils.log(\"skip load inter because banner has ad\");\r\n        }\r\n    }\r\n\r\n    //load reward\r\n    private tryLoadReward() {\r\n        if (SimpleSDK.instance().isNetworkOk()) {\r\n            if (this.rewardId != null && this.rewardId.length > 0) {\r\n                if (this.rewardLoadingStatus == SimpleAd.STATUS_LOADING) {\r\n                    SimpleUtils.log(\"reward is loading and skip\");\r\n                }\r\n                else {\r\n                    SimpleUtils.log(\"try to load reward\");\r\n                    this.rewardLoadingStatus = SimpleAd.STATUS_LOADING;\r\n                    this.loadReward();\r\n                }\r\n            }\r\n            else {\r\n                SimpleUtils.log(\"reward id is null and skip\");\r\n            }\r\n        }\r\n    }\r\n\r\n    private loadReward() {\r\n        this.ATRewardedVideoJSSDK.loadRewardedVideo(this.rewardId, {});\r\n    }\r\n\r\n    setRewardListener(rewardListener: SDK.SimpleRewardListener) {\r\n        this.rewardListener = rewardListener;\r\n    }\r\n\r\n    hasReward() {\r\n        if (this.rewardId != null && this.rewardId.length > 0) {\r\n            return this.ATRewardedVideoJSSDK.hasAdReady(this.rewardId);\r\n        }\r\n        else return false;\r\n    }\r\n\r\n    showReward(adEntry: string) {\r\n        this.atRewardedVideoListener.setEntry(adEntry);\r\n        this.ATRewardedVideoJSSDK.showAd(this.rewardId);\r\n    }\r\n\r\n    rewardLoad() {\r\n        this.rewardLoadingStatus = SimpleAd.STATUS_SUCCESS;\r\n    }\r\n\r\n    rewardLoadFail() {\r\n        this.rewardLoadingStatus = SimpleAd.STATUS_FAILED;\r\n    }\r\n\r\n    rewardClose() {\r\n        this.loadReward();\r\n    }\r\n\r\n    //inter\r\n    private tryLoadInter() {\r\n        if (SimpleSDK.instance().isNetworkOk()) {\r\n            if (this.interId != null && this.interId.length > 0) {\r\n                if (this.interLoadingStatus == SimpleAd.STATUS_LOADING) {\r\n                    SimpleUtils.log(\"inter is loading and skip\");\r\n                }\r\n                else {\r\n                    SimpleUtils.log(\"try to load inter\");\r\n                    this.interLoadingStatus = SimpleAd.STATUS_LOADING;\r\n                    this.loadInter();\r\n                }\r\n            }\r\n            else {\r\n                SimpleUtils.log(\"inter id is null and skip\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private loadInter() {\r\n        this.ATInterstitialJSSDK.loadInterstitial(this.interId);\r\n    }\r\n\r\n    setInterListener(interListener: SDK.SimpleInterListener) {\r\n        this.interListener = interListener;\r\n    }\r\n\r\n    hasInter() {\r\n        if (this.interId != null && this.interId.length > 0) {\r\n            return this.ATInterstitialJSSDK.hasAdReady(this.interId);\r\n        }\r\n        else return false;\r\n    }\r\n\r\n    showInter(adEntry: string) {\r\n        this.atInterstitialListener.setEntry(adEntry);\r\n        this.ATInterstitialJSSDK.showAd(this.interId);\r\n        this.tryLoadInter();\r\n    }\r\n\r\n    interLoad() {\r\n        this.interLoadingStatus = SimpleAd.STATUS_SUCCESS;\r\n    }\r\n\r\n    interLoadFail() {\r\n        this.interLoadingStatus = SimpleAd.STATUS_FAILED;\r\n    }\r\n    interClose() {\r\n        this.loadInter();\r\n    }\r\n\r\n    //banner\r\n    private tryLoadBanner() {\r\n        if (SimpleSDK.instance().isNetworkOk()) {\r\n            if (this.bannerId != null && this.bannerId.length > 0) {\r\n                if (this.bannerLoadingStatus == SimpleAd.STATUS_LOADING) {\r\n                    SimpleUtils.log(\"banner is loading and skip\");\r\n                }\r\n                else {\r\n                    SimpleUtils.log(\"try to load banner\");\r\n                    this.bannerLoadingStatus = SimpleAd.STATUS_LOADING;\r\n                    this.loadBanner();\r\n                }\r\n            }\r\n            else {\r\n                SimpleUtils.log(\"banner id is null and skip\");\r\n            }\r\n        }\r\n    }\r\n    private loadBanner() {\r\n        this.ATBannerJSSDK.loadBanner(this.bannerId, this.ATBannerJSSDK.createLoadAdSize(this.bannerWidth, this.bannerHeight));\r\n    }\r\n    hasBanner() {\r\n        if (this.bannerId != null && this.bannerId.length > 0) {\r\n            return this.ATBannerJSSDK.hasAdReady(this.bannerId);\r\n        }\r\n        else return false;\r\n    }\r\n\r\n    setBannerListener(bannerListener: SDK.SimpleBannerListener) {\r\n        this.bannerListener = bannerListener;\r\n    }\r\n\r\n    showOrReShowBanner(pos) {\r\n        if (this.bannerHasShow) {\r\n            //直接reshow\r\n            this.ATBannerJSSDK.reShowAd(this.bannerId);\r\n        }\r\n        else {\r\n            if (this.ATBannerJSSDK.hasAdReady(this.bannerId)) {\r\n                this.bannerHasShow = true;\r\n                let p = \"\";\r\n                if (pos == SimpleAd.BANNER_TOP) {\r\n                    p = this.ATBannerJSSDK.kATBannerAdShowingPisitionTop;\r\n                }\r\n                else {\r\n                    p = this.ATBannerJSSDK.kATBannerAdShowingPisitionBottom;\r\n                }\r\n                this.ATBannerJSSDK.showAdInPosistion(this.bannerId, p);\r\n            }\r\n        }\r\n    }\r\n\r\n    hideBanner() {\r\n        this.ATBannerJSSDK.hideAd(this.bannerId);\r\n    }\r\n\r\n    removeBanner() {\r\n        this.ATBannerJSSDK.rewoveAd(this.bannerId);\r\n        this.bannerHasShow = false;\r\n        this.tryLoadBanner();\r\n    }\r\n\r\n    bannerLoad() {\r\n        this.bannerLoadingStatus = SimpleAd.STATUS_SUCCESS;\r\n    }\r\n\r\n    bannerLoadFail() {\r\n        this.bannerLoadingStatus = SimpleAd.STATUS_FAILED;\r\n    }\r\n    getAdStatus(): {} {\r\n        let m = {\r\n            \"reward\": this.rewardLoadingStatus,\r\n            \"inter\": this.interLoadingStatus,\r\n            \"banner\": this.bannerLoadingStatus\r\n        }\r\n        return m;\r\n    }\r\n}\r\n"]}