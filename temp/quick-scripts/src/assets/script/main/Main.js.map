{"version":3,"sources":["assets\\script\\main\\Main.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAsC;AACtC,6CAA4C;AAC5C,2DAAoE;AACpE,2CAA0C;AAC1C,2DAAqD;AACrD,2DAAqD;AAG/C,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAC5C;;GAEG;AAEH;IAAkC,wBAAY;IAD9C;QAAA,qEAgEC;QA7DG,kBAAY,GAAY,IAAI,CAAC;QAG7B,YAAM,GAAY,IAAI,CAAC;QAGvB,eAAS,GAAY,IAAI,CAAC;QAG1B,gBAAU,GAAY,IAAI,CAAC;QAG3B,mBAAa,GAAY,IAAI,CAAC;;IAiDlC,CAAC;IA/CG,qBAAM,GAAN;QACI,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,uBAAQ,GAAR;IACA,CAAC;IAED;;OAEG;IACI,mBAAI,GAAX;QACI,OAAO;QACP,iBAAO,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACtC,iBAAO,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAEzC,eAAM,CAAC,IAAI,CAAC,2BAAU,CAAC,QAAQ,EAAE,0BAAS,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED;;OAEG;IACI,6BAAc,GAArB;QACI,eAAM,CAAC,IAAI,CAAC,2BAAU,CAAC,iBAAiB,EAAE,0BAAS,CAAC,MAAM,CAAC,CAAC;QAE5D,IAAI,WAAI,CAAC,gBAAgB,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YACpC,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACxC,eAAM,CAAC,IAAI,CAAC,2BAAU,CAAC,UAAU,EAAE,0BAAS,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YAChE,OAAO;SACV;QAED,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACzB,6BAAY,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED;;OAEG;IACI,qBAAM,GAAb;QACI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IA1DD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACW;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wCACK;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACQ;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;4CACS;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACY;IAdb,IAAI;QADxB,OAAO;OACa,IAAI,CA+DxB;IAAD,WAAC;CA/DD,AA+DC,CA/DiC,EAAE,CAAC,SAAS,GA+D7C;kBA/DoB,IAAI","file":"","sourceRoot":"/","sourcesContent":["import { user } from \"../common/User\";\r\nimport { actions } from \"../common/Actions\";\r\nimport { GameConstant, GameEvents } from \"../common/EventConstants\";\r\nimport { events } from \"../common/Events\";\r\nimport { AudioName } from \"../common/AudioConstands\";\r\nimport { PopUpName } from \"../common/PopupConstants\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n/**\r\n * 作者:Dandlly\r\n */\r\n@ccclass\r\nexport default class Main extends cc.Component {\r\n    @property(cc.Node)\r\n    mPlayGameBtn: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    mtitle: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    mGameNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    mPaomaNode: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    mGameOpenNode: cc.Node = null;\r\n\r\n    onLoad() {\r\n        if (!cc.sys.isNative) {\r\n            FSDK.openBanner();\r\n        }\r\n        this.init();\r\n    }\r\n\r\n    onEnable() {\r\n    }\r\n\r\n    /**\r\n     * 初始化脚本\r\n     */\r\n    public init(): void {\r\n        // 添加缓动\r\n        actions.breatheEff(this.mPlayGameBtn);\r\n        actions.breatheEff(this.mtitle, 0.95, 2);\r\n\r\n        events.emit(GameEvents.PLAY_BGM, AudioName.MAIN_BGM);\r\n        this.openPm();\r\n    }\r\n\r\n    /**\r\n     * 开始游戏\r\n     */\r\n    public playGameHandle(): void {\r\n        events.emit(GameEvents.PLAY_SOUND_EFFECT, AudioName.BUTTON);\r\n\r\n        if (user.getRecordBarrier().length > 0) {\r\n            let _data = [this.mGameNode, this.node];\r\n            events.emit(GameEvents.SHOW_POPUP, PopUpName.READ, null, _data);\r\n            return;\r\n        }\r\n\r\n        this.mGameNode.active = true;\r\n        this.node.active = false;\r\n        GameConstant.game.init();\r\n    }\r\n\r\n    /**\r\n     * 打开跑马灯\r\n     */\r\n    public openPm(): void {\r\n        FSDK.showMarQuee(this.mPaomaNode);\r\n    }\r\n\r\n\r\n}\r\n"]}