{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FModel\\FPanelManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export namespace FPanelManager {\r\n    export let savePanel = {};\r\n    //开启弹窗效果\r\n    export function open_eff(panel: cc.Node) {\r\n        panel.active = true;\r\n        let node = panel.getChildByName('mainNode');\r\n        let num = node.getNumberOfRunningActions();\r\n        if (num > 0) return;\r\n\r\n        node.scale = 0;\r\n        cc.tween(node)\r\n        .to(0.2,{scale:1},{easing:\"backOut\"})\r\n        .start();\r\n        // node.runAction(seq);\r\n    }\r\n\r\n    //关闭弹窗效果\r\n    export function close_eff(panel: cc.Node, isDes = false, cb = null) {\r\n        if (panel.getChildByName('mainNode').getNumberOfRunningActions() > 0) {\r\n            return;\r\n        }\r\n        // let seq = cc.sequence(\r\n        //     cc.scaleTo(0.2, 0).easing(cc.easeBackIn()),\r\n        //     cc.callFunc(function () {\r\n        //         panel.active = false;\r\n        //         if (cb) {\r\n        //             cb();\r\n        //         }\r\n        //         if (isDes) {\r\n        //             panel.parent = null;\r\n        //             return;\r\n        //         }\r\n\r\n        //     })\r\n        // )\r\n        // panel.getChildByName('mainNode').runAction(seq);\r\n        cc.tween(panel.getChildByName('mainNode'))\r\n        .to(0.2,{scale:0},{easing:\"backIn\"})\r\n        .call(function () {\r\n            panel.active = false;\r\n            if (cb) {\r\n                cb();\r\n            }\r\n            if (isDes) {\r\n                panel.parent = null;\r\n                return;\r\n            }\r\n\r\n        })\r\n        .start();\r\n    }\r\n\r\n    //0-弹窗 1-从左边出来\r\n    export function openPanel(panel: cc.Node) {\r\n        open_eff(panel);\r\n    }\r\n\r\n    //加载页面left\r\n    export function load(name: string, parent: cc.Node, cb?) {\r\n        if (FPanelManager.savePanel[name]) {\r\n            FPanelManager.savePanel[name].parent = parent;\r\n            FPanelManager.openPanel(FPanelManager.savePanel[name]);\r\n            if (cb) {\r\n                cb(FPanelManager.savePanel[name]);\r\n            }\r\n            return;\r\n        }\r\n        FSDK.showToLoad();\r\n        cc.loader.loadRes('FSDK_RES/' + name, cc.Prefab, function (err, prefab) {\r\n            if (!err) {\r\n                let page = cc.instantiate(prefab);\r\n                FPanelManager.savePanel[name] = page;\r\n                FPanelManager.savePanel[name].parent = parent;\r\n                FPanelManager.openPanel(FPanelManager.savePanel[name]);\r\n                if (cb) {\r\n                    cb(FPanelManager.savePanel[name]);\r\n                }\r\n                FSDK.hideToLoad();\r\n            }\r\n            else {\r\n                FSDK.hideToLoad();\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    //加载\r\n    export function loadPage(name, cb, target,showLoad = true) {\r\n        if (FPanelManager.savePanel[name]) {\r\n            if (cb) {\r\n                cb.call(target, FPanelManager.savePanel[name]);\r\n            }\r\n            return;\r\n        }\r\n        if(showLoad){\r\n            FSDK.showToLoad();\r\n        }\r\n        cc.loader.loadRes('FSDK_RES/' + name, cc.Prefab, function (err, prefab) {\r\n            if (!err) {\r\n                FPanelManager.savePanel[name] = cc.instantiate(prefab);\r\n                if (cb) {\r\n                    cb.call(target, FPanelManager.savePanel[name]);\r\n                }\r\n                FSDK.hideToLoad();\r\n            }\r\n            else {\r\n                if (cb) {\r\n                    cb.call(target, null);\r\n                }\r\n                FSDK.hideToLoad();\r\n            }\r\n        });\r\n    }\r\n}"]}