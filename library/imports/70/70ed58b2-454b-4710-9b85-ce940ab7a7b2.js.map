{"version":3,"sources":["assets\\script\\common\\AnimationControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: sueRimn\r\n * @Date: 2019-08-18 09:59:24\r\n * @LastEditors: sueRimn\r\n * @LastEditTime: 2019-08-20 00:35:45\r\n */\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class AnimationControl extends cc.Component {\r\n\t@property({ displayName: '是否直接运行' })\r\n\tisOnLoad: Boolean = true;\r\n\t@property({ type: cc.Animation, displayName: '控制节点' })\r\n\tcontrol_node: Array<cc.Animation> = [];\r\n\t@property({ type: cc.Float, displayName: '延迟播放时间' })\r\n\tdelay_time: Array<number> = [];\r\n\t@property({ type: cc.Float, displayName: '出现时间' })\r\n\tappear_time: Array<number> = [];\r\n\t@property({ type: cc.Float, displayName: '消失时间' })\r\n\tdisappear_time: Array<number> = [];\r\n\t@property({ type: cc.Float, displayName: '动画开始时所在的时间点' })\r\n\tbegin_time: Array<number> = [];\r\n\r\n\t/**\r\n\t * 默认播放（如果要不播放，则取消那个勾）;\r\n\t */\r\n\tonLoad() {\r\n\t\tif (!this.isOnLoad) return;\r\n\t\tthis.control_node.forEach((anim, index) => {\r\n\t\t\tanim.node.stopAllActions();\r\n\t\t\tanim.play();\r\n\t\t\tif (this.begin_time[index] && this.begin_time[index] > 0) {\r\n\t\t\t\tanim.setCurrentTime(this.begin_time[index]);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.delay_time[index] && this.delay_time[index] > 0) {\r\n\t\t\t\tanim.stop();\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.delay_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.play();\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\r\n\t\t\tif (this.appear_time[index] && this.appear_time[index] > 0) {\r\n\t\t\t\tanim.node.active = false;\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.appear_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.node.active = true;\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\r\n\t\t\tif (this.disappear_time[index] && this.disappear_time[index] > 0) {\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.disappear_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.node.active = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 技术控制脚本（）\r\n\t */\r\n\tpublic startPlay(): void {\r\n\t\tthis.control_node.forEach((anim, index) => {\r\n\t\t\tanim.node.stopAllActions();\r\n\t\t\tanim.play();\r\n\t\t\tif (this.begin_time[index] && this.begin_time[index] > 0) {\r\n\t\t\t\tanim.setCurrentTime(this.begin_time[index]);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.delay_time[index] && this.delay_time[index] > 0) {\r\n\t\t\t\tanim.stop();\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.delay_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.play();\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\r\n\t\t\tif (this.appear_time[index] && this.appear_time[index] > 0) {\r\n\t\t\t\tanim.node.active = false;\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.appear_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.node.active = true;\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\r\n\t\t\tif (this.disappear_time[index] && this.disappear_time[index] > 0) {\r\n\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\tcc.delayTime(this.disappear_time[index]),\r\n\t\t\t\t\tcc.callFunc(() => {\r\n\t\t\t\t\t\tanim.node.active = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonDisable() {\r\n\t\tthis.node.stopAllActions();\r\n\t}\r\n}\r\n"]}