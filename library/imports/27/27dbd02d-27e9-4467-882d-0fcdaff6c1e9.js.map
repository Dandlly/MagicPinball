{"version":3,"sources":["assets\\SDK\\script\\AnyThinkAds\\ATBannerJSSDK.js"],"names":["ATAndroidBannerJS","require","ATiOSBannerJS","initPlatformBridge","cc","sys","os","OS_IOS","OS_ANDROID","platformBridge","ATBannerSDK","kATBannerAdLoadingExtraBannerAdSizeStruct","kATBannerAdShowingPisitionTop","kATBannerAdShowingPisitionBottom","ATBannerListener","developerCallback","onBannerAdLoaded","placementId","undefined","onBannerAdLoadFail","errorInfo","onBannerAdShow","callbackInfo","onBannerAdClick","onBannerAdAutoRefresh","onBannerAdAutoRefreshFail","onBannerAdCloseButtonTapped","loadBanner","settings","JSON","stringify","log","setAdListener","listener","eventJSON","LoadedCallbackKey","LoadFailCallbackKey","CloseCallbackKey","ClickCallbackKey","ShowCallbackKey","RefreshCallbackKey","RefreshFailCallbackKey","hasAdReady","showAdInPosistion","position","showAdInRectangle","showAdRect","rewoveAd","reShowAd","hideAd","createLoadAdSize","width","height","loadAdSize","createShowAdRect","x","y","adRect","window","ATBannerJSSDK"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nvar ATAndroidBannerJS = require(\"./Android/ATAndroidBannerJS\");\r\nvar ATiOSBannerJS = require(\"./iOS/ATiOSBannerJS\");\r\n\r\nvar initPlatformBridge = function() {  \r\n    if (cc.sys.os === cc.sys.OS_IOS) {           \r\n        return ATiOSBannerJS;\r\n    } else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n        return ATAndroidBannerJS;\r\n    }\r\n};\r\n\r\nvar platformBridge = initPlatformBridge();\r\n\r\n\r\nvar ATBannerSDK = ATBannerSDK || {\r\n    kATBannerAdLoadingExtraBannerAdSizeStruct: \"banner_ad_size_struct\",\r\n\tkATBannerAdShowingPisitionTop : \"top\",\r\n    kATBannerAdShowingPisitionBottom : \"bottom\",\r\n\r\n    ATBannerListener : {\r\n        developerCallback : null,\r\n\r\n        onBannerAdLoaded : function (placementId) {\r\n            if(this.developerCallback != null && this.developerCallback.onBannerAdLoaded != null && undefined != this.developerCallback.onBannerAdLoaded) {\r\n                this.developerCallback.onBannerAdLoaded(placementId);\r\n            }\r\n        },\r\n\r\n        onBannerAdLoadFail : function(placementId, errorInfo) {\r\n          if(this.developerCallback != null && this.developerCallback.onBannerAdLoadFail != null && undefined != this.developerCallback.onBannerAdLoadFail) {\r\n                this.developerCallback.onBannerAdLoadFail(placementId, errorInfo);\r\n            }\r\n        },\r\n\r\n        onBannerAdShow : function(placementId, callbackInfo) {\r\n           if(this.developerCallback != null && this.developerCallback.onBannerAdShow != null && undefined != this.developerCallback.onBannerAdShow) {\r\n                this.developerCallback.onBannerAdShow(placementId, callbackInfo);\r\n            }\r\n        },\r\n\r\n        onBannerAdClick : function(placementId, callbackInfo) {\r\n            if(this.developerCallback != null && this.developerCallback.onBannerAdClick != null && undefined != this.developerCallback.onBannerAdClick) {\r\n                this.developerCallback.onBannerAdClick(placementId, callbackInfo);\r\n            }\r\n        },\r\n\r\n        onBannerAdAutoRefresh : function(placementId, callbackInfo) {\r\n            if(this.developerCallback != null && this.developerCallback.onBannerAdAutoRefresh != null && undefined != this.developerCallback.onBannerAdAutoRefresh) {\r\n                this.developerCallback.onBannerAdAutoRefresh(placementId, callbackInfo);\r\n            }\r\n        },\r\n\r\n        onBannerAdAutoRefreshFail : function(placementId, errorInfo) {\r\n            if(this.developerCallback != null && this.developerCallback.onBannerAdAutoRefreshFail != null && undefined != this.developerCallback.onBannerAdAutoRefreshFail) {\r\n                this.developerCallback.onBannerAdAutoRefreshFail(placementId, errorInfo);\r\n            }\r\n        },\r\n\r\n        onBannerAdCloseButtonTapped : function(placementId, callbackInfo) {\r\n            if(this.developerCallback != null && this.developerCallback.onBannerAdCloseButtonTapped != null && undefined != this.developerCallback.onBannerAdCloseButtonTapped) {\r\n                this.developerCallback.onBannerAdCloseButtonTapped(placementId, callbackInfo);\r\n            }\r\n        }\r\n        \r\n    },\r\n    \r\n    loadBanner : function(placementId, settings={}) {\r\n\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            platformBridge.loadBanner(placementId, JSON.stringify(settings));\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    setAdListener : function(listener) {\r\n        var eventJSON = {};\r\n        eventJSON[LoadedCallbackKey]= \"ATBannerJSSDK.ATBannerListener.onBannerAdLoaded\",\r\n        eventJSON[LoadFailCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdLoadFail\",\r\n        eventJSON[CloseCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdCloseButtonTapped\",\r\n        eventJSON[ClickCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdClick\",\r\n        eventJSON[ShowCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdShow\",\r\n        eventJSON[RefreshCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefresh\",\r\n        eventJSON[RefreshFailCallbackKey]=  \"ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefreshFail\"\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            platformBridge.setAdListener(JSON.stringify(eventJSON));\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n\r\n        this.ATBannerListener.developerCallback = listener;\r\n    },\r\n\r\n    hasAdReady : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            return platformBridge.hasAdReady(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n        return false;\r\n    },\r\n\r\n    showAdInPosistion : function(placementId, position) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.showAdInPosistion(placementId, position);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    showAdInRectangle : function(placementId, showAdRect) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.showAdInRectangle(placementId, JSON.stringify(showAdRect));\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n\r\n    rewoveAd : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.rewoveAd(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    reShowAd : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.reShowAd(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    hideAd : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.hideAd(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    createLoadAdSize : function(width, height) {\r\n    \tvar loadAdSize = {};\r\n    \tloadAdSize[\"width\"] = width;\r\n    \tloadAdSize[\"height\"] = height;\r\n    \treturn loadAdSize;\r\n    },\r\n\r\n    createShowAdRect : function(x, y, width, height) {\r\n    \tvar adRect = {};\r\n    \tadRect[\"x\"] = x;\r\n    \tadRect[\"y\"] = y;\r\n    \tadRect[\"width\"] = width;\r\n    \tadRect[\"height\"] = height;\r\n    \treturn adRect;\r\n    }\r\n\r\n  \r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LoadedCallbackKey = \"BannerLoaded\";\r\nconst LoadFailCallbackKey = \"BannerLoadFail\";\r\nconst CloseCallbackKey = \"BannerCloseButtonTapped\";\r\nconst ClickCallbackKey = \"BannerClick\";\r\nconst ShowCallbackKey = \"BannerShow\";\r\nconst RefreshCallbackKey = \"BannerRefresh\";\r\nconst RefreshFailCallbackKey = \"BannerRefreshFail\";\r\n\r\nwindow.ATBannerJSSDK = ATBannerSDK;"]}