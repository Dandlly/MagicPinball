{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FTwoCardItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FGlobal } from \"../FModel/FGlobal\";\r\nimport { FTwoCard } from \"./FTwoCard\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FTwoCardItem extends cc.Component {\r\n    @property(cc.Sprite)\r\n    mCard: cc.Sprite = null;\r\n    @property(cc.RichText)\r\n    mTip1: cc.RichText = null;\r\n    @property(cc.RichText)\r\n    mTip2: cc.RichText = null;\r\n    @property(cc.RichText)\r\n    mTip3: cc.RichText = null;\r\n    @property(cc.RichText)\r\n    mTip4: cc.RichText = null;\r\n    @property(cc.ProgressBar)\r\n    mPro: cc.ProgressBar = null;\r\n    @property(cc.Label)\r\n    mProLabel: cc.Label = null;\r\n    @property(cc.Node)\r\n    mHelpBtn: cc.Node = null;\r\n    @property(cc.Button)\r\n    mTransBtn: cc.Button = null;\r\n    @property(cc.Label)\r\n    mStatus: cc.Label = null;\r\n    @property(cc.AudioSource)\r\n    mErrSound: cc.AudioSource = null;\r\n    type = 0;\r\n    @property\r\n    pos = 1;\r\n    mFTwoCard: FTwoCard = null;\r\n    onLoad() {\r\n        this.mTransBtn.node.on(cc.Node.EventType.TOUCH_END, this.clickTrans, this);\r\n        this.mHelpBtn.on(cc.Node.EventType.TOUCH_START, this.clickHelp, this);\r\n        this.mStatus.node.active = false;\r\n        cc.director.on(FEventID.S2C_trans_history, this.on_S2C_trans_history, this);\r\n    }\r\n\r\n    on_S2C_trans_history(msg) {\r\n        if (!msg.err && msg.data.type == 'twocard') {\r\n            for (let i = 0; i < msg.data.records.length; i++) {\r\n                if (msg.data.records[i].custom_id == FConfig.FSDK_CONF.TWO_CARD.cardList[this.type][this.pos - 1]) {\r\n                    this.setStatus(msg.data.records[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //type 0-pp 1-gp 2-ap\r\n    setData(type: number, cardSp: cc.SpriteFrame, parent: FTwoCard) {\r\n        this.mFTwoCard = parent;\r\n        this.type = type;\r\n        this.mCard.spriteFrame = cardSp;\r\n        FLog.normal(\"什么吗   \", FConfig.FSDK_CONF.word)\r\n        if (this.pos == 1) {\r\n            this.mTip3.string = `Step1: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[0].title}\\nStep2: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[1].title}\\nStep3: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[2].title}`;\r\n        }\r\n        else {\r\n            this.mTip3.string = FGlobal.exWenzi(FConfig.FSDK_CONF.word.tip8, 500);\r\n        }\r\n        this.getTargetPos();\r\n\r\n        if (FGlobal.USER_INFO.trans_record['twocard']) {\r\n            for (let i = 0; i < FGlobal.USER_INFO.trans_record.twocard.length; i++) {\r\n                if (FGlobal.USER_INFO.trans_record.twocard[i] == FConfig.FSDK_CONF.TWO_CARD.cardList[this.type][this.pos - 1]) {\r\n                    this.setStatus({ status: 0 });\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        this.mTransBtn.node.active = true;\r\n        this.mStatus.node.active = false;\r\n    }\r\n\r\n\r\n    //完成到哪一步\r\n    getTargetPos() {\r\n        if (this.pos == 1) {\r\n            this.mHelpBtn.active = false;\r\n        }\r\n        let target: number[] = [FGlobal.USER_INFO.credit_pp, FGlobal.USER_INFO.task, FGlobal.USER_INFO.login_days];\r\n        if (this.type != 0) {\r\n            target[0] = FGlobal.USER_INFO.credit_gp;\r\n        }\r\n        let taskPos = -1;\r\n        for (let i = 0; i < FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target.length; i++) {\r\n            if (target[i] < FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target[i].cnt) {\r\n                this.mTip2.string = FGlobal.exWenzi(FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target[i].title, target[i]);\r\n                this.mTransBtn.interactable = false;\r\n                taskPos = i;\r\n                break;\r\n            }\r\n            else {\r\n                if (i == 0) {\r\n                    this.mTip3.string = `Step1: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[0].title}\\nStep2: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[1].title}`;\r\n                }\r\n                else if (i == 1) {\r\n                    this.mTip3.string = `Step1: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[0].title}\\nStep2: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[1].title}\\nStep3: ${FConfig.FSDK_CONF.TWO_CARD.card1.target[2].title}`;\r\n                }\r\n                if (i == FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target.length - 1) {\r\n                    taskPos = i;\r\n                    FLog.normal(\"任务没有达成呢true\");\r\n                    this.mTransBtn.interactable = true;\r\n                    this.mTip2.string = \"\";\r\n                }\r\n            }\r\n        }\r\n        this.mPro.progress = target[taskPos] / FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target[taskPos].cnt;\r\n        if (taskPos == 0) {\r\n            this.mProLabel.string = `$${target[0].toFixed(2)}/$${FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target[taskPos].cnt.toFixed(2)}`;\r\n        }\r\n        else {\r\n            this.mProLabel.string = `${target[taskPos]}/${FConfig.FSDK_CONF.TWO_CARD['card' + this.pos].target[taskPos].cnt}`;\r\n            if (this.pos == 1) {\r\n                this.mHelpBtn.active = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    setCnt(cnt) {\r\n        let num = 0;\r\n        if (this.type == 0) {\r\n            if (this.pos == 1) {\r\n                num = Math.floor(cnt * 0.025 + 211);\r\n            }\r\n            else {\r\n                num = Math.floor(cnt * 0.003 + 12);\r\n            }\r\n        }\r\n        else {\r\n            if (this.pos == 1) {\r\n                num = Math.floor(cnt * 0.033 + 174);\r\n            }\r\n            else {\r\n                num = Math.floor(cnt * 0.004 + 8);\r\n            }\r\n        }\r\n        this.mTip1.string = FGlobal.exWenzi(FConfig.FSDK_CONF.word.tip6, num);\r\n        this.mTip4.string = this.mTip1.string + \",keep it up!\";\r\n    }\r\n\r\n    onEnable() {\r\n        // this.mTip4.node.parent.stopAllActions();\r\n        this.mTip4.node.parent.active = false;\r\n    }\r\n\r\n    //点击了问号\r\n    clickHelp() {\r\n        this.mTip4.node.parent.active = !this.mTip4.node.parent.active;\r\n        // this.mTip4.node.parent.stopAllActions();\r\n        // this.mTip4.node.parent.active = true;\r\n        // this.mTip4.node.parent.opacity = 0;\r\n        // cc.tween(this.mTip4.node.parent)\r\n        //     .to(0.05, { opacity: 255 })\r\n        //     .start();\r\n    }\r\n\r\n    closeHelp() {\r\n        // this.mTip4.node.parent.stopAllActions();\r\n        // this.mTip4.node.parent.active = true;\r\n        // cc.tween(this.mTip4.node.parent)\r\n        //     .to(0.05, { opacity: 0 })\r\n        //     .start();\r\n    }\r\n\r\n    //点击了out\r\n    clickTrans() {\r\n        if (this.mTransBtn.interactable) {\r\n            // if (this.type != 0) {\r\n            //     FSDK.showToast(FConfig.FSDK_CONF.word.tip9);\r\n            //     return;\r\n            // }\r\n            FLog.normal(\"啥玩意儿啊  \", this.type, this.pos)\r\n            let data = this.getGift(FConfig.FSDK_CONF.TWO_CARD.cardList[this.type][this.pos - 1]);\r\n            FSDK.showTransPage(this.mFTwoCard.node, data, () => {\r\n                this.mStatus.node.active = true;\r\n                this.mTransBtn.node.active = false;\r\n                if (!FGlobal.USER_INFO.trans_record.twocard) {\r\n                    FGlobal.USER_INFO.trans_record.twocard = [];\r\n                }\r\n                FGlobal.USER_INFO.trans_record.twocard.push(FConfig.FSDK_CONF.TWO_CARD.cardList[this.type][this.pos - 1]);\r\n            }, 'twocard', false)\r\n        }\r\n        else {\r\n            if (FGlobal.USER_INFO.setting.sound) {\r\n                this.mErrSound.play();\r\n            }\r\n            FLog.normal(\"任务没有达成呢\");\r\n            this.noSuc();\r\n        }\r\n    }\r\n\r\n    //取出礼物\r\n    getGift(id) {\r\n        for (let i = 0; i < FConfig.conf.redeem_task.twocard.length; i++) {\r\n            if (id == FConfig.conf.redeem_task.twocard[i].id) {\r\n                return FConfig.conf.redeem_task.twocard[i];\r\n            }\r\n        }\r\n    }\r\n\r\n    //提示没完成\r\n    noSuc() {\r\n        this.mTip2.node.stopAllActions();\r\n        this.mTip2.node.scale = 1;\r\n        cc.tween(this.mTip2.node)\r\n            .to(0.15, { scale: 1.1 })\r\n            .to(0.2, { scale: 1 })\r\n            .start();\r\n    }\r\n\r\n    setStatus(data) {\r\n        FLog.normal(\"有没有进来\")\r\n        let stutas = 'Processing';\r\n        let color = 'FF8F00';\r\n        switch (data.status) {\r\n            case 0:\r\n                stutas = 'Processing';\r\n                color = 'FF8F00'\r\n                break;\r\n            case 1:\r\n                stutas = 'Finish';\r\n                color = '15C323'\r\n                break;\r\n            case 2:\r\n                stutas = 'In Review';\r\n                color = 'FF8F00'\r\n                break;\r\n            case -1:\r\n                stutas = 'Refuse';\r\n                color = 'D32424'\r\n                break;\r\n            case -2:\r\n                stutas = 'GetFail';\r\n                color = 'D32424'\r\n                break;\r\n        }\r\n        this.mTransBtn.node.active = false;\r\n        this.mStatus.node.active = true;\r\n        this.mStatus.string = stutas;\r\n        this.mStatus.node.color = new cc.Color().fromHEX(color);\r\n    }\r\n}\r\n"]}