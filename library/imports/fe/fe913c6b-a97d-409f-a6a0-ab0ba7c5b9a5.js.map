{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FTaskPage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FPanelManager } from \"../FModel/FPanelManager\";\r\nimport { FCreditRecord } from \"./FCreditRecord\";\r\nimport { FGlobal } from \"../FModel/FGlobal\";\r\nimport { FTaskItem } from \"./FTaskItem\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FTaskPage extends cc.Component {\r\n    @property(cc.Label)\r\n    mTip1: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    mTransPro: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    mNowNum: cc.Label = null;\r\n    @property(cc.Label)\r\n    mLabelPro: cc.Label = null;\r\n    @property(cc.Button)\r\n    mBtnTrans: cc.Button = null;\r\n    @property(cc.Node)\r\n    mItem: cc.Node = null;\r\n    @property(cc.ScrollView)\r\n    mScroll: cc.ScrollView = null;\r\n    @property(cc.Node)\r\n    mCardNode: cc.Node = null;\r\n    onLoad() {\r\n        this.node.setContentSize(cc.winSize);\r\n        this.node.getChildByName(\"Top\").height = 75 + FGlobal.getScale();\r\n        this.node.getChildByName(\"mainNode\").getComponent(cc.Widget).top = 75 + FGlobal.getScale();\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    onEnable() {\r\n        this.initData();\r\n        FSDK.addCreditListen(this.creditListen, this);\r\n        this.mScroll.stopAutoScroll();\r\n        this.mScroll.scrollToTop(0);\r\n    }\r\n\r\n    onDisable() {\r\n        FSDK.removeCreditListen(this.creditListen, this);\r\n    }\r\n\r\n    creditListen(data) {\r\n        if (data.type == 'pp') {\r\n            this.initData();\r\n        }\r\n    }\r\n\r\n    initData() {\r\n        this.mTip1.string = `can ${FConfig.FSDK_CONF.word.tip2})`;\r\n        this.mNowNum.string = `$${FGlobal.USER_INFO.credit_pp.toFixed(2)}`;\r\n        this.mTransPro.fillRange = FGlobal.USER_INFO.credit_pp / 100;\r\n        this.mLabelPro.string = `$${FGlobal.USER_INFO.credit_pp.toFixed(2)} / $100.00`;\r\n        this.mBtnTrans.interactable = this.mTransPro.fillRange >= 1;\r\n    }\r\n\r\n    setData(data) {\r\n        if(FConfig.FSDK_CONF.TASK_CONF.length == 1){\r\n           this.oneTask(data);\r\n        }\r\n        else{\r\n            this.moreTask(data);\r\n        }\r\n       \r\n    }\r\n\r\n    oneTask(num){\r\n        let length = FConfig.FSDK_CONF.TASK_CONF[0].target.length;\r\n        for (let i = 0; i < length; i++) {\r\n            let item: cc.Node = null;\r\n            if (this.mScroll.content.childrenCount == length) {\r\n                item = this.mScroll.content.children[i];\r\n            }\r\n            else {\r\n                item = cc.instantiate(this.mItem);\r\n                item.parent = this.mScroll.content;\r\n            }\r\n            item.getComponent(FTaskItem).setOneData(num, i, this.node);\r\n        }\r\n    }\r\n\r\n    moreTask(list){\r\n        let length = FConfig.FSDK_CONF.TASK_CONF.length;\r\n        for (let i = 0; i < length; i++) {\r\n            let item: cc.Node = null;\r\n            if (this.mScroll.content.childrenCount == length) {\r\n                item = this.mScroll.content.children[i];\r\n            }\r\n            else {\r\n                item = cc.instantiate(this.mItem);\r\n                item.parent = this.mScroll.content;\r\n            }\r\n            item.getComponent(FTaskItem).setMoreData(list[i], i, this.node);\r\n        }\r\n    }\r\n\r\n    closePage() {\r\n        this.node.parent = null;\r\n    }\r\n\r\n    ppRecord() {\r\n        FPanelManager.load('FCreditRecord', this.node, function (panel: cc.Node) {\r\n            panel.getComponent(FCreditRecord).setType('pp');\r\n        })\r\n    }\r\n\r\n    getTrans() {\r\n        FSDK.showToast(`You have abnormal behaviors,${FConfig.FSDK_CONF.word.tip2} failed`);\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}