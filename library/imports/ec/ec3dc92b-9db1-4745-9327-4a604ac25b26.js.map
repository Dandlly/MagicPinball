{"version":3,"sources":["assets\\FSDK_ASS\\FSript\\FView\\FMarquee.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FGlobal } from \"../FModel/FGlobal\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport class FMarquee extends cc.Component {\r\n    @property(cc.Node)\r\n    mMainNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    mMsg1: cc.Node = null;\r\n    @property(cc.Node)\r\n    mMsg2: cc.Node = null;\r\n\r\n    onEnable() {\r\n        this.random = FGlobal.getQuRandom(FConfig.FSDK_CONF.MARQUEE_CONF.fresh_time[0], FConfig.FSDK_CONF.MARQUEE_CONF.fresh_time[1]);\r\n        this.mMsg1.y = 0;\r\n        this.mMsg2.y = -50;\r\n        this.mMsg1.getChildByName('email').getComponent(cc.Label).string = FGlobal.getEmail();\r\n        this.mMsg2.getChildByName('email').getComponent(cc.Label).string = FGlobal.getEmail();\r\n        let data1 = FGlobal.getMarMsg();\r\n        let data2 = FGlobal.getMarMsg();\r\n        FLog.normal('ssadasdasd  ',data1)\r\n\r\n        this.mMsg1.getChildByName('msgNode').getChildByName('type').getComponent(cc.Label).string = data1.desc;\r\n        this.mMsg1.getChildByName('msgNode').getChildByName('type').color = new cc.Color().fromHEX(data1.color)\r\n        this.mMsg2.getChildByName('msgNode').getChildByName('type').getComponent(cc.Label).string = data2.desc;\r\n        this.mMsg2.getChildByName('msgNode').getChildByName('type').color = new cc.Color().fromHEX(data2.color)\r\n        this.mMsg1.getChildByName('msgNode').getChildByName('label').getComponent(cc.Label).string = FConfig.FSDK_CONF.word.tip5;\r\n        this.mMsg2.getChildByName('msgNode').getChildByName('label').getComponent(cc.Label).string = FConfig.FSDK_CONF.word.tip5;\r\n        this.mMsg1.getChildByName('msgNode').getChildByName('num').getComponent(cc.Label).string = data1.num;\r\n        this.mMsg2.getChildByName('msgNode').getChildByName('num').getComponent(cc.Label).string = data2.num;\r\n        this.moveUp(this.mMsg1);\r\n        this.moveUp(this.mMsg2);\r\n        FLog.normal(\"进来了\")\r\n    }\r\n\r\n    onDisable() {\r\n        this.mMsg2.stopAllActions();\r\n        this.mMsg1.stopAllActions();\r\n    }\r\n\r\n    random = 0;\r\n    //往上飘\r\n    moveUp(node: cc.Node) {\r\n        cc.tween(node)\r\n            .delay(this.random)\r\n            .by(1, { y: 50 })\r\n            .call(function () {\r\n                if (node.y == 50) {\r\n                    node.y = -50;\r\n                    node.getChildByName('email').getComponent(cc.Label).string = FGlobal.getEmail();\r\n                    let data = FGlobal.getMarMsg();\r\n                    node.getChildByName('msgNode').getChildByName('type').getComponent(cc.Label).string = data.desc;\r\n                    node.getChildByName('msgNode').getChildByName('type').color = new cc.Color().fromHEX(data.color);\r\n                    node.getChildByName('msgNode').getChildByName('num').getComponent(cc.Label).string = data.num;\r\n\r\n                }\r\n                this.moveUp(node);\r\n                if (node.name == 'msg2') {\r\n                    this.random = FGlobal.getQuRandom(FConfig.FSDK_CONF.MARQUEE_CONF.fresh_time[0], FConfig.FSDK_CONF.MARQUEE_CONF.fresh_time[1]);\r\n                }\r\n            }.bind(this))\r\n            .start();\r\n    }\r\n\r\n    //渐变展示\r\n    showIn() {\r\n        let num = this.mMainNode.getNumberOfRunningActions();\r\n        if (num > 0) return;\r\n        cc.tween(this.mMainNode)\r\n            .to(1, { opacity: 255 })\r\n            .start();\r\n    }\r\n\r\n    //渐变隐藏\r\n    hideIn() {\r\n        cc.tween(this.mMainNode)\r\n            .to(1, { opacity: 0 })\r\n            .start();\r\n    }\r\n}\r\n"]}