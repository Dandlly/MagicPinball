{"version":3,"sources":["assets\\SDK\\script\\AnyThinkAds\\ATRewardedVideoJSSDK.js"],"names":["ATAndroidRewardedVideoJS","require","ATiOSRewardedVideoJS","initPlatformBridge","cc","sys","os","OS_IOS","OS_ANDROID","platformBridge","ATRewardedVideoSDK","userIdKey","userDataKey","ATRewardedVideoListener","developerCallback","onRewardedVideoAdLoaded","placementId","undefined","onRewardedVideoAdFailed","errorInfo","onRewardedVideoAdPlayStart","callbackInfo","onRewardedVideoAdPlayEnd","onRewardedVideoAdPlayFailed","onRewardedVideoAdClosed","onRewardedVideoAdPlayClicked","onReward","loadRewardedVideo","settings","JSON","stringify","log","setAdListener","listener","eventJSON","LoadedCallbackKey","LoadFailCallbackKey","PlayStartCallbackKey","PlayEndCallbackKey","PlayFailCallbackKey","CloseCallbackKey","ClickCallbackKey","RewardCallbackKey","hasAdReady","showAd","showAdInScenario","scenario","window","ATRewardedVideoJSSDK"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nvar ATAndroidRewardedVideoJS = require(\"./Android/ATAndroidRewardedVideoJS\");\r\nvar ATiOSRewardedVideoJS = require(\"./iOS/ATiOSRewardedVideoJS\");\r\n// require(\"./AnyThinkAds/ATJSSDK\");\r\n\r\nvar initPlatformBridge = function() {  \r\n    if (cc.sys.os === cc.sys.OS_IOS) {           \r\n        return ATiOSRewardedVideoJS;\r\n    } else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n        return ATAndroidRewardedVideoJS;\r\n    }\r\n};\r\n\r\nvar platformBridge = initPlatformBridge();\r\n\r\n\r\nvar ATRewardedVideoSDK = ATRewardedVideoSDK || {\r\n    userIdKey: \"userID\",\r\n    userDataKey: \"media_ext\",\r\n\r\n    ATRewardedVideoListener : {\r\n        developerCallback : null,\r\n\r\n        onRewardedVideoAdLoaded : function (placementId) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded(\" + placementId + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdLoaded != null && undefined != this.developerCallback.onRewardedVideoAdLoaded) {\r\n                this.developerCallback.onRewardedVideoAdLoaded(placementId);\r\n            }\r\n        },\r\n        onRewardedVideoAdFailed : function(placementId, errorInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed(\" + placementId + \", \" + errorInfo + \")\");\r\n          if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdFailed != null && undefined != this.developerCallback.onRewardedVideoAdFailed) {\r\n                this.developerCallback.onRewardedVideoAdFailed(placementId, errorInfo);\r\n            }\r\n        },\r\n        onRewardedVideoAdPlayStart : function(placementId, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart(\" + placementId + \", \" + callbackInfo + \")\");\r\n           if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdPlayStart != null && undefined != this.developerCallback.onRewardedVideoAdPlayStart) {\r\n                this.developerCallback.onRewardedVideoAdPlayStart(placementId, callbackInfo);\r\n            }\r\n        },\r\n        onRewardedVideoAdPlayEnd : function(placementId, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd(\" + placementId + \", \" + callbackInfo + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdPlayEnd != null && undefined != this.developerCallback.onRewardedVideoAdPlayEnd) {\r\n                this.developerCallback.onRewardedVideoAdPlayEnd(placementId, callbackInfo);\r\n            }\r\n        },\r\n        onRewardedVideoAdPlayFailed : function(placementId, errorInfo, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed(\" + placementId + \", \" + callbackInfo + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdPlayFailed != null && undefined != this.developerCallback.onRewardedVideoAdPlayFailed) {\r\n                this.developerCallback.onRewardedVideoAdPlayFailed(placementId, errorInfo, callbackInfo);\r\n            }\r\n        },\r\n        onRewardedVideoAdClosed : function(placementId, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed(\" + placementId + \", \" + callbackInfo + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdClosed != null && undefined != this.developerCallback.onRewardedVideoAdClosed) {\r\n                this.developerCallback.onRewardedVideoAdClosed(placementId, callbackInfo);\r\n            }\r\n        },\r\n        onRewardedVideoAdPlayClicked : function(placementId, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked(\" + placementId + \", \" + callbackInfo + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onRewardedVideoAdPlayClicked != null && undefined != this.developerCallback.onRewardedVideoAdPlayClicked) {\r\n                this.developerCallback.onRewardedVideoAdPlayClicked(placementId, callbackInfo);\r\n            }\r\n        },\r\n        onReward : function(placementId, callbackInfo) {\r\n            // ATJSSDK.printLog(\"ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward(\" + placementId + \", \" + callbackInfo + \")\");\r\n            if(this.developerCallback != null && this.developerCallback.onReward != null && undefined != this.developerCallback.onReward) {\r\n                this.developerCallback.onReward(placementId, callbackInfo);\r\n            }\r\n        }\r\n    },\r\n    \r\n    loadRewardedVideo : function(placementId, settings={}) {\r\n\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            platformBridge.loadRewardedVideo(placementId, JSON.stringify(settings));\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    setAdListener : function(listener) {\r\n        var eventJSON = {};\r\n        eventJSON[LoadedCallbackKey]= \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded\",\r\n        eventJSON[LoadFailCallbackKey]= \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed\",\r\n        eventJSON[PlayStartCallbackKey]=  \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart\",\r\n        eventJSON[PlayEndCallbackKey]=  \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd\",\r\n        eventJSON[PlayFailCallbackKey] = \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed\",\r\n        eventJSON[CloseCallbackKey]= \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed\",\r\n        eventJSON[ClickCallbackKey]= \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked\",\r\n        eventJSON[RewardCallbackKey]= \"ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward\"\r\n\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            platformBridge.setAdListener(JSON.stringify(eventJSON));\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n\r\n        this.ATRewardedVideoListener.developerCallback = listener;\r\n    },\r\n\r\n    hasAdReady : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n            return platformBridge.hasAdReady(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n        return false;\r\n    },\r\n\r\n    showAd : function(placementId) {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.showAd(placementId);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    },\r\n\r\n    showAdInScenario : function(placementId, scenario=\"\") {\r\n        if (undefined != platformBridge && platformBridge != null) {\r\n           platformBridge.showAdInScenario(placementId, scenario);\r\n        } else {\r\n            cc.log(\"You must run on Android or iOS.\");\r\n        }\r\n    } \r\n  \r\n};\r\n\r\nconst LoadedCallbackKey = \"RewardedVideoLoaded\";\r\nconst LoadFailCallbackKey = \"RewardedVideoLoadFail\";\r\nconst PlayStartCallbackKey = \"RewardedVideoPlayStart\";\r\nconst PlayEndCallbackKey = \"RewardedVideoPlayEnd\";\r\nconst PlayFailCallbackKey = \"RewardedVideoPlayFail\";\r\nconst CloseCallbackKey = \"RewardedVideoClose\";\r\nconst ClickCallbackKey = \"RewardedVideoClick\";\r\nconst RewardCallbackKey = \"RewardedVideoReward\";\r\n\r\n\r\nwindow.ATRewardedVideoJSSDK = ATRewardedVideoSDK;"]}